,Created At,Updated At,Closed At,Merged At,Details,Id
0,2019-09-30T00:13:36Z,2020-02-20T04:25:15Z,,,"Add qtcreator-generic IDE template.  Fixes #3046 

Since Qt Creator can default to running `make` for generic targets, this template also adds a `Makefile` that will allow Qt Creator to automatically build the project without having to manually modify the project settings to launch `platformio`.

This `qtcreator-generic` IDE template diverges from the `qtcreator` template in that it doesn't require a Qt Kit to be setup that contains `qmake`.  It also outputs compiler flags so that detail from custom scripts that alter the compiler flags can be captured by the code model in Qt Creator.  It does, however, lose the `HOMEDIR` isolation of include paths that the `qtcreator` template provides -- this is because I see no good way to do it with the generic project mechanism since it's not parsed by `qmake`.

Run with: `platformio init --ide qtcreator-generic`
",19606299
1,2020-03-26T07:20:29Z,2020-03-26T10:33:52Z,,,"### What was the problem?

This PR resolves #4938

### How was it solved?

- Update chain to return all the delegates in sorted order
- Create vote weight snapshot
  - If there are not enough standby delegates (less than 2), it chooses top 103
  - If there are more than 2 eligible standby delegate, all standby delegates is added

### How was it tested?
- Add unit test that all scenario ( not enough delegate, including zero vote weight, banned, and more than 2 eligible standby)
- Run the application and see genesis scenario works as expected
",50873641
2,2020-03-25T15:49:06Z,2020-03-26T13:22:47Z,,,"### What was the problem?

This PR resolves #4923

### How was it solved?

Add forger selection protocol specs with the new DPoS system
",50873641
3,2020-03-24T16:38:34Z,2020-03-26T08:49:20Z,,,"### What was the problem?

This PR resolves #4932

### How was it solved?

- Add network identifier while forging a block
- Add network identifier while validating forged block

### How was it tested?

- Updated tests (we already have signature validation check)
- Run application and see forged block is accepted",50873641
4,2020-03-24T12:00:59Z,2020-03-26T10:38:55Z,,,"### What was the problem?

This PR resolves #4930 

### How was it solved?

- Add a command to create hash function

### How was it tested?

- add unit test to check if the hash onion can be recalculated
- `./bin/run hash-onion`
- `./bin/run hash-onion --count=100000 --distance=2000 --output=./sample.json`
",50873641
5,2020-03-24T10:22:02Z,2020-03-26T10:38:40Z,,,"### What was the problem?

This PR resolves #4926 

### How was it solved?

- Add unlock transaction based on https://github.com/LiskHQ/lips/blob/master/proposals/lip-0023.md and https://github.com/LiskHQ/lips/blob/master/proposals/lip-0024.md

### How was it tested?

- Added test using protocol specs and unit test templates

### Additional Information
- This should be merged after #5048 
- It currently includes commits from #5048 
",50873641
6,2020-03-23T20:40:26Z,2020-03-26T10:38:18Z,,,"### What was the problem?

This PR resolves #4925 

### How was it solved?

- Add new vote transaction based on LIP https://github.com/LiskHQ/lips/blob/master/proposals/lip-0023.md

### How was it tested?

- All test based on protocol spec and unit test template created at #4918  are added
",50873641
7,2020-03-25T09:30:17Z,2020-03-25T14:06:38Z,,,"… operation and using CseHttpEntity to set localcontext

Follow this checklist to help us incorporate your contribution quickly and easily:

 - [ ] Make sure there is a [JIRA issue](https://issues.apache.org/jira/browse/SCB) filed for the change (usually before you start working on it).  Trivial changes like typos do not require a JIRA issue.  Your pull request should address just this issue, without pulling in other changes.
 - [ ] Each commit in the pull request should have a meaningful subject line and body.
 - [ ] Format the pull request title like `[SCB-XXX] Fixes bug in ApproximateQuantiles`, where you replace `SCB-XXX` with the appropriate JIRA issue.
 - [ ] Write a pull request description that is detailed enough to understand what the pull request does, how, and why.
 - [ ] Run `mvn clean install -Pit` to make sure basic checks pass. A more thorough check will be performed on your pull request automatically.
 - [ ] If this contribution is large, please file an Apache [Individual Contributor License Agreement](https://www.apache.org/licenses/icla.pdf).

---
",91674936
8,2020-03-24T12:26:13Z,2020-03-26T12:34:13Z,,,"…y and change outlog item name

Follow this checklist to help us incorporate your contribution quickly and easily:

 - [ ] Make sure there is a [JIRA issue](https://issues.apache.org/jira/browse/SCB) filed for the change (usually before you start working on it).  Trivial changes like typos do not require a JIRA issue.  Your pull request should address just this issue, without pulling in other changes.
 - [ ] Each commit in the pull request should have a meaningful subject line and body.
 - [ ] Format the pull request title like `[SCB-XXX] Fixes bug in ApproximateQuantiles`, where you replace `SCB-XXX` with the appropriate JIRA issue.
 - [ ] Write a pull request description that is detailed enough to understand what the pull request does, how, and why.
 - [ ] Run `mvn clean install -Pit` to make sure basic checks pass. A more thorough check will be performed on your pull request automatically.
 - [ ] If this contribution is large, please file an Apache [Individual Contributor License Agreement](https://www.apache.org/licenses/icla.pdf).

---
",91674936
9,2020-03-06T20:48:23Z,2020-03-08T06:36:33Z,,,"# Description

Please include a summary of the change and which issue is fixed if any. Please also include relevant motivation and context. List any dependencies that are required for this change.

Fixes # (issue)

## Type of change

Please delete options that are not relevant.

- [ ] Bug fix (non-breaking change which fixes an issue)
- [x] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] This change requires a documentation update

# How Has This Been Tested?

Please describe the tests that you ran to verify your changes. Provide instructions so we can reproduce. Please also list any relevant details for your test configuration

- [ ] Test A
- [ ] Test B

**Test Configuration**:

* Distribution:
* Webserver:
* PHP:
* etc.etc.:

# Checklist:

- [ ] I have performed a self-review of my own code
- [ ] I have commented my code, particularly in hard-to-understand areas
- [ ] I have made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my feature works
- [ ] New and existing unit tests pass locally with my changes

",3639119
10,2020-02-04T17:46:42Z,2020-02-05T08:01:57Z,,,Logging --force parameter,3639119
11,2019-11-26T14:49:18Z,2019-11-26T15:08:47Z,,,"# Description

IP validation sorts out any ""reserved"" IP. That's a good thing because we do not want e.g. to DHCP bind to broadcasts IPs. But there are some special cases that are filtered out by FILTER_FLAG_NO_RES_RANGE:

* Using 0.0.0.0 in ""Ports and IPs"" to create a Port listening on any IP
* Using 0.0.0.0/0.0.0.0 e.g. for MySQL to allow access to any IP

(Personally, I have only use case 1 but since It's quite similar, I added the other too).

## Type of change

Please delete options that are not relevant.

- [ ] Bug fix (non-breaking change which fixes an issue)
- [X] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] This change requires a documentation update

# How Has This Been Tested?

I have manually tested that creating a port with IP 0.0.0.0 works as expected. I have added Tests into ValidationTests for both use cases.

# Checklist:

- [x] I have performed a self-review of my own code
- [x] I have commented my code, particularly in hard-to-understand areas
- [ ] I have made corresponding changes to the documentation
-> No idea where to document it exactly, it's just a minor fix/enhancement
- [?] My changes generate no new warnings
-> How to test?
- [x] I have added tests that prove my fix is effective or that my feature works
- [X] New and existing unit tests pass locally with my changes
",3639119
12,2019-08-05T14:11:13Z,2020-02-01T08:58:28Z,,,"...fully working now

working:
- creating DKIM keys 1024 / **2048** / 4096 and pusing to db
- creating config files for amavis or opendkim and writing to a user defined location
- writing all DKIM keys to a user defined location
- showing neccessary zonefile addidtions for external nameserver in admin-domain-edit
- creating zonefile for internal nameserver
- restarting services at changes
- translations german and english

not ready / 2do:
- creatind instructions how to configure amavis or DKIM for different distributions",3639119
13,2019-05-17T09:28:04Z,2019-05-18T06:19:05Z,,,"# Description

Currently Froxlor calculates FTP quota based on disk space usage which is wrong. If we setup traffic (bandwidth) limit lower than disk space in current state then this prevents user from FTP usage. 

Fixes # (issue)

## Type of change

Please delete options that are not relevant.

- [x] Bug fix (non-breaking change which fixes an issue)
- [ ] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [ ] This change requires a documentation update

# How Has This Been Tested?

Checking working instance after few days and current system calculation manually.

- [ ] Test A
- [ ] Test B

**Test Configuration**:

* Distribution:
* Webserver:
* PHP:
* etc.etc.:

# Checklist:

- [ ] I have performed a self-review of my own code
- [ ] I have commented my code, particularly in hard-to-understand areas
- [ ] I have made corresponding changes to the documentation
- [ ] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my feature works
- [ ] New and existing unit tests pass locally with my changes

",3639119
14,2019-05-10T01:06:14Z,2019-10-28T15:02:52Z,,,"Add mysql prefix option to use customername + database description field as final databasename

Fixes #672 

## Type of change

- [ ] Bug fix (non-breaking change which fixes an issue)
- [x] New feature (non-breaking change which adds functionality)
- [ ] Breaking change (fix or feature that would cause existing functionality to not work as expected)
- [x] This change requires a documentation update

# How Has This Been Tested?

Locally. If the newely option value ""DBNAME"" is used, new functionality is triggered and executed.

# Checklist:

- [x] I have performed a self-review of my own code
- [x] I have commented my code, particularly in hard-to-understand areas
- [ ] I have made corresponding changes to the documentation
- [x] My changes generate no new warnings
- [ ] I have added tests that prove my fix is effective or that my feature works
- [ ] New and existing unit tests pass locally with my changes

I've only added english and german localization, as I do not speak the other languages.",3639119
15,2015-04-29T12:21:36Z,2015-08-17T18:37:08Z,,,"Patch based on PR #197, adapted to master, with some additions.
## Description

This patch allows to have a separate customer database (or even multiple customer databases). To enable it, just add a second database to `$sql_root` in `userdata.inc.php`:

```
$sql_root[0]['caption']='Default';
$sql_root[0]['host']='127.0.0.1';
$sql_root[0]['user']='root';
$sql_root[0]['password']='xyz';
$sql_root[0]['hidden']=true;

$sql_root[1]['caption']='Customer';
$sql_root[1]['host']='10.0.10.18';
$sql_root[1]['user']='root';
$sql_root[1]['password']='abc';
```

Now, when the customer wants to create a new database, he will be able to select the server from a dropdown. If you don't want to allow customer databases on the Froxlor db host itself, you can set the main database to `hidden` (see above) - then it will not be available in the customer panel.

The patch also enables using wildcards in `system.mysql_access_host`, which was not possible before (but is useful, if you want to limit access to a network or number of hosts).
#### Implementation notes
- the host for a given customer db is stored in `panel_databases`.`dbserver`, which is an index to `$sql_root`. This field was already there, and is now used again.
- to operate on a specific database, call `Database::needRoot()` with the server's index as the second parameter
- If set, `$linkWithoutDatabase` removes the database name from the PDO DSN, which is required if `$dbserver` is not `0` (this can probably be removed completely, but it was in the original patch, so I left it in)
- `correctMysqlUsers()` has been rewritten completely, as the old version was a total mess and would delete non-froxlor database users under some circumstances. 
",3639119
16,2014-07-09T16:25:58Z,2015-02-27T09:20:27Z,,,"Fixes Bug #1438: Second External database server for customers database
not anymore possible
",3639119
17,2020-03-23T17:10:48Z,2020-03-25T01:11:49Z,,,"**Summary**

Extension of the ""fix restrain bond"" adding the possibility of having a start and end equilibrium distance.

Definitionof a new fix restrain for lower bound harmonic. It is an harmonic restraint to keep atoms far apart from each other and vanishes above the equilibrium bond distance.

These harmonics are useful to implement restraint-based modelling approaches for the structural determination of biological molecules using molecular dynamics.

**Related Issues**

_If this addresses an open GitHub issue for this project, please mention the issue number here, and describe the relation. Use the phrases `fixes #221` or `closes #135`, when you want an issue to be automatically closed when the pull request is merged_

**Author(s)**

David Castillo, Structural Genomics Group, CNAG-CRG
Marco Di Stefano, Structural Genomics Group, CNAG-CRG

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

There is no backward compatibility issue.

**Implementation Notes**

_Provide any relevant details about how the changes are implemented, how correctness was verified, how other features - if any - in LAMMPS are affected_

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [x] The feature or features in this pull request is complete
- [x] Licensing information is complete
- [x] Corresponding author information is complete
- [x] The source code follows the LAMMPS formatting guidelines
- [x] Suitable new documentation files and/or updates to the existing docs are included
- [x] The added/updated documentation is integrated and tested with the documentation build system
- [x] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system

**Further Information, Files, and Links**

_Put any additional information here, attach relevant text or image files, and URLs to external sites (e.g. DOIs or webpages)_


",12007030
18,2020-03-22T20:43:58Z,2020-03-26T13:26:32Z,,,"Use more modern cmake paradigms. 

- [x] Remote old style `include_directories()` calls
- [x] Remove old style `add_definitions()` calls
- [x] Create imported target for
  - [x] NetCDF
  - [x] QUIP
- [x] turn `linalg`, `mpi_stubs` in `${PKG_LIB}` in object libraries - Nope, CMake-3.10 doesn't have full support for `OBJECT` libs yet
- [x] Create exported target for lammps library
- [x] Drop pkg-config files? - Nope
- [x] Update old style (without `PRIVATE`/ `PUBLIC` keyword) `target_link_libraries()` calls",12007030
19,2020-03-17T21:12:09Z,2020-03-18T22:10:44Z,,,"**Summary**

A new kim_commands feature.

- New capability within LAMMPS for writing material properties computed in LAMMPS to standard KIM property instance format.
- Updating the kim_coammands document
- Updating the KIM package documents
- Addition of a KIM reference to the pair potentials document (pair_adp, and  pair_eam).

**Author(s)**

Yaser Afshar (U Minnesota)
Ellad Tadmor (U Minnesota)
Daniel S. Karls (U Minnesota)
Ryan Elliott (U Minnesota)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

There is no backward compatibility issue.

**Implementation Notes**

The new command requires that LAMMPS is built with the Python 3.6 or later package installed. It uses Python/C interface, and in case LAMMPS is not made with Python 3, calling this command will fail with a message indicating the problem.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [x] The feature or features in this pull request is complete
- [x] Licensing information is complete
- [x] Corresponding author information is complete
- [x] The source code follows the LAMMPS formatting guidelines
- [x] Suitable new documentation files and/or updates to the existing docs are included
- [x] The added/updated documentation is integrated and tested with the documentation build system
- [x] The feature has been verified to work with the conventional build system
- [x] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

_Put any additional information here, attach relevant text or image files, and URLs to external sites (e.g. DOIs or webpages)_


",12007030
20,2020-03-13T19:35:17Z,2020-03-18T10:05:16Z,,,"**Summary**

This PR implements 2 main changes to the `fix adapt` command:
- the `scale` keyword can apply to the parameters `diameter` and `charge`
- a `diameter/disc` parameter is defined so that mass changes associated with diameter changes can be consistent for 2d simulations

Bugs fixes and corresponding edits to the documentation are also performed.

**Related Issues**

This closes #1508 , enhancement I created to allow `fix adapt` to change the diameter of polydisperse granular assemblies. This is realized by implementing the `scale` capability for the `diameter` parameter. It is not as general as implementing atom-style variables as I initially suggested in issue #1508 but was much easier implementation and fits many polydisperse applications.

**Author(s)**

Jibril B. Coulibaly, Northwestern University, jibril.coulibaly@northwestern.edu

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

yes

**Implementation Notes**

To implement the `scale` keyword for `diameter` and `charge` parameters, the `FixAdapt::post_constructor()` function is modified so that the internal `Fix Store` are created even when the `reset no` option is used. This allows storing the initial diameter/charge and scaling them in the `FixAdapt::change_settings()` function, the same way `pair` and `bond` parameters are presently scaled.

The implementation of the `diameter/disc` parameter uses a `discflag` to determine the way particles mass should be modified and uses the disc area to define the mass in the `FixAdapt::change_settings()` and `FixAdapt::restore_settings()` functions.

Some non-compliant comments are currently left in the source files to facilitate the review of this PR.

[Documented input files](https://github.com/lammps/lammps/files/4331328/MWE_fix_adapt_PR.zip) showing the effects of the modifications proposed in this PR are enclosed:
 - `in.bug_post_constructor_reset_radius_charge_flag`: shows current bug in `FixAdapt::post_constructor()`
- `in.scale_diameter_charge`: demonstrates implementation of the `scale` keyword for `diameter` and `charge` parameters
- `in.diameter_disc`: demonstrates implementation of the 2d compatibility using `diameter/disc` parameter


**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

",12007030
21,2020-02-26T21:29:37Z,2020-02-27T07:56:23Z,,,"**Summary**

Add method to copy Kokkos neighbor list to CPU list. Gives speedup when running on GPUs and non-Kokkosized diagnostics request lists.

**Related Issues**

None.

**Author(s)**

Stan Moore (SNL)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

No issues.",12007030
22,2020-02-25T19:52:04Z,2020-02-26T16:53:40Z,,,"**Summary**

Add Kokkos version of compute coord/atom.

**Related Issues**

Includes changes in #1895, should be merged after #1895.

**Author(s)**

Stan Moore (SNL)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

No issues.",12007030
23,2020-02-24T20:30:05Z,2020-03-04T20:09:34Z,,,"**Summary**

Add Kokkos version of compute orientorder/atom

**Related Issues**

None.

**Author(s)**

Stan Moore (SNL)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

No issues.",12007030
24,2020-02-20T19:50:56Z,2020-02-25T14:40:15Z,,,"**Summary**

Allow the change box ortho/triclinic command to be used even if restarting from a restart file that contained per-atom fix info.  Do this by delaying the error check until after all the keywords are scanned.

**Related Issues**

N/A

**Author(s)**

Steve

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

It should simply not throw an error for cases that the error check was too stringent before.

**Implementation Notes**

_Provide any relevant details about how the changes are implemented, how correctness was verified, how other features - if any - in LAMMPS are affected_

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

_Put any additional information here, attach relevant text or image files, and URLs to external sites (e.g. DOIs or webpages)_


",12007030
25,2020-02-08T20:19:15Z,2020-03-19T21:36:53Z,,,"
**Summary**

The changes in this PR allow a more specific tracking of whether multiple fixes are
modifying the same box parameter and error out in that case instead of letting LAMMPS continue and produce bogus simulation results.

**Author(s)**

Axel Kohlmeyer (Temple U)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

Compatibility on the command line is preserved, but (external) source code needs to be adapted, if it was using any of the removed class member variables of the fix class.

**Implementation Notes**

By using a (single) bitmask instead multiple per-category variables, we can now check more specifically which box parameters are manipulated by a fix. During Domain::init() this information is then used to determine if the box is changed per category (like before), but also a new check is added to ensure that no two fixes are modifying the same box parameter. In that case the code will error out.

**Post Submission Checklist**

- [x] The feature or features in this pull request is complete
- [x] Licensing information is complete
- [x] Corresponding author information is complete
- [x] The source code follows the LAMMPS formatting guidelines
- [x] Suitable new documentation files and/or updates to the existing docs are included
- [x] The added/updated documentation is integrated and tested with the documentation build system
- [x] The feature has been verified to work with the conventional build system
- [x] The feature has been verified to work with the CMake based build system

",12007030
26,2020-02-07T00:41:53Z,2020-03-26T02:54:05Z,,,"**Summary**

This pull request incorporates the tubular potential model (TPM) force field into LAMMPS. This force field is designed for mesoscopic simulations of interacting flexible carbon nanotubes (CNTs) and is based on representation of nanotubes as chains of stretchable cylindrical segments. Further details about this force field can be found in the references listed below and in doc files submitted with this pull request.

This pull request includes the following:

1. TPM nanotube Fortran library (mesont) developed by Alexey N. Volkov, the author of TMP force field, and used to produce results listed in the references below. This library implements basic level functions describing stretching, bending, and intertube components of the force field. Harmonic bending [1] and anharmonic bending-buckling [2] potentials, as well as segment-segment and segment-chain intertube interaction approximations [3,4] are included.

2. USER-MESONT LAMMPS package incorporating mesont Fortran library into the LAMMPS framework:

- mesont/tpm pair style implementing TPM mesoscopic force field. It includes generation of bonds, rearrangement of nanotube nodes into contiguous chains, generation of a list of neighboring chains (to support both segment-chain and segment-segment approximations of intertube interaction), and calls of corresponding mesont Fortran library functions.

- mesont atomic style designed to work with tubular representation of CNTs and use it together with TPM force field.

- mesont/Es, mesont/Eb, mesont/Et, mesont/B, mesont/Es_tot, mesont/Eb_tot, mesont/Et_tot computes to evaluate different components (stretching, bending, intertube) of the potential energy and buckling state. 

3. Potential tables parameterized for single wall CNTs with (10,10) chirality.

4. Two examples of input for simulation of a single CNT bundle and relaxation of a thin CNT film.

5. Tools:

-  TMDPotGen, the code for generation of TMP potential tables for single-walled CNTs with a given chirality (m,n).

- TMDGen, the code designed to generate initial samples composed of straight and dispersed nanotubes of given chirality and length at a given material density. The files are saved in the format compatible with mesont atomic style provided with this pull request.

- dump2vtk, the code for conversion of output from NT simulations written in *.dump format into VTK that can be visualized as a set of tubes (rather than a set of NT nodes) in Paraview or other packages (see images below).

6. Documentation describing the features provided with the pull request.


**Author(s)**

Maxim V. Shugaev, University of Virginia, mvs9t@virginia.edu
Alexey N. Volkov, University of Alabama, avolkov1@ua.edu
Leonid V. Zhigilei, University of Virginia, lz2n@virginia.edu

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

No known issues

**Implementation Notes**

A brief description of the implementation details is provided above, in the summary section, and a paper with additional implementation and verification details will be published soon. The correctness of the implementation is verified in the following tests. (1) Energy conservation in NVE simulation of CNT film relaxation performed for segment-segment and segment-chain approximations with harmonic bending potential. (2) Direct comparison of the energy evolution (with separate consideration of bending, buckling, and intertube interaction) and structures predicted by the current LAMMPS implementation and the original Fortran code developed by Alexey N. Volkov and used for the work reported in the references listed below. The simulations are performed for both harmonic bending and anharmonic bending-buckling potentials under NVE and NVT conditions. Both serial and parallel codes were verified in these sets of simulations. (3) Large parallel simulation of film relaxation (see the movie below).

The code is developed in a way to minimize its impact on other components of LAMMPS. In particular, this pull request only requires including several variables to atom.h and the corresponding code for their initiation in atom.cpp. Other additions are localized within the developed package, and no other components of LAMMPS are affected.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

[1] L. V. Zhigilei, C. Wei, and D. Srivastava, Mesoscopic model for dynamic simulations of carbon nanotubes, Phys. Rev. B 71, 165417, 2005.
[2] A. N. Volkov and L. V. Zhigilei, Structural stability of carbon nanotube films: The role of bending buckling, ACS Nano 4, 6187-6195, 2010.
[3] A. N. Volkov, K. R. Simov, and L. V. Zhigilei, Mesoscopic model for simulation of CNT-based materials, Proceedings of the ASME International Mechanical Engineering Congress and Exposition (IMECE2008), ASME paper IMECE2008-68021, 2008.
[4] A. N. Volkov and L. V. Zhigilei, Mesoscopic interaction potential for carbon nanotubes of arbitrary length and orientation, J. Phys. Chem. C 114, 5513-5531, 2010.
[5] B. K. Wittmaack, A. H. Banna, A. N. Volkov, L. V. Zhigilei, Mesoscopic modeling of structural self-organization of carbon nanotubes into vertically aligned networks of nanotube bundles, Carbon 130, 69-86, 2018.
[6] B. K. Wittmaack, A. N. Volkov, L. V. Zhigilei, Mesoscopic modeling of the uniaxial compression and recovery of vertically aligned carbon nanotube forests, Compos. Sci. Technol. 166, 66-85, 2018.
[7] B. K. Wittmaack, A. N. Volkov, L. V. Zhigilei, Phase transformation as the mechanism of mechanical deformation of vertically aligned carbon nanotube arrays: Insights from mesoscopic modeling, Carbon 143, 587-597, 2019.
[8] A. N. Volkov and L. V. Zhigilei, Scaling laws and mesoscopic modeling of thermal conductivity in carbon nanotube materials, Phys. Rev. Lett. 104, 215902, 2010.
[9] A. N. Volkov, T. Shiga, D. Nicholson, J. Shiomi, and L. V. Zhigilei, Effect of bending buckling of carbon nanotubes on thermal conductivity of carbon nanotube materials, J. Appl. Phys. 111, 053501, 2012.
[10] A. N. Volkov and L. V. Zhigilei, Heat conduction in carbon nanotube materials: Strong effect of intrinsic thermal conductivity of carbon nanotubes, Appl. Phys. Lett. 101, 043113, 2012.
[11] W. M. Jacobs, D. A. Nicholson, H. Zemer, A. N. Volkov, and L. V. Zhigilei, Acoustic energy dissipation and thermalization in carbon nanotubes: Atomistic modeling and mesoscopic description, Phys. Rev. B 86, 165414, 2012.
[12] A. N. Volkov and A. H. Banna, Mesoscopic computational model of covalent cross-links and mechanisms of load transfer in cross-linked carbon nanotube films with continuous networks of bundles, Comp. Mater. Sci. 176, 109410, 2020.

A representative image of a thin CNT film after relaxation colored based on the potential energy. The plot illustrates tube buckling (dark red regions) and formation of bundles (blue regions).
![TB 0200](https://user-images.githubusercontent.com/49990208/73982817-fe187780-4902-11ea-95b9-a973d91d36d6.png)

Relaxation of a thick CNT film composed of 8000 200 nm tubes, which corresponds to 1.6M CNT segments in total.
![plot1](https://user-images.githubusercontent.com/49990208/73983392-5ac86200-4904-11ea-9722-fcf96f652995.gif)

Schematic illustration of implementation details:
![CNT](https://user-images.githubusercontent.com/49990208/74197968-75654880-4c2e-11ea-8d8f-5063580a8ce0.jpg)


",12007030
27,2020-02-05T15:13:05Z,2020-03-26T01:13:36Z,,,"**Summary**

Update Kokkos library to v3.0 and remove deprecated code.

**Author(s)**

Stan Moore (SNL)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

No issues.",12007030
28,2020-01-31T21:19:13Z,2020-02-01T03:00:51Z,,,"**Summary**

This bond style provides an alternative mechanism to create special bonds by creating an actual bond that calls force->pair->single(). It can be used to create 1-5 (, 1-6, ..) interactions.

**Related Issues**

There have been a few discussions on 1-5 interactions over the years on the mailing list (e.g. 
https://lammps.sandia.gov/threads/msg78113.html)

**Author(s)**

David Nicholson
MIT
davidanich@gmail.com

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

No issues.

**Implementation Notes**

There are requirements on the special_bonds command, since this command will create new 1-2, 1-3 and 1-4 interactions. These are detailed in the documentation and error handling.

In this example, I add 1-5 interactions to a united atom C8 molecule. These 1-5 interactions are the weighted by 1, and thus should be equivalent to pairwise ones. The script using bond_style special (in.c8-special) yields the same total energy as the one using the pair potential (in.c8).

[bond_special_example.zip](https://github.com/lammps/lammps/files/4141445/bond_special_example.zip)

**Post Submission Checklist**

- [x] The feature or features in this pull request is complete
- [x] Licensing information is complete
- [x] Corresponding author information is complete
- [x] The source code follows the LAMMPS formatting guidelines
- [x] Suitable new documentation files and/or updates to the existing docs are included
- [x] The added/updated documentation is integrated and tested with the documentation build system
- [x] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [x] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

n/a

",12007030
29,2020-01-31T20:17:12Z,2020-03-11T15:44:10Z,,,"**Summary**
This PR is an update for the changes proposed in #1590. It has been merged with the current 'master' and now includes the changes from #1752, #1776, etc. Also, the building instructions in lib/gpu/README has been extended accordingly.

The PR enhances LAMMPS with the capability for using the new HIP backend for GPU-offloading of MD calculations as implemented in the GPU package. The GPU package has been developed originally with the support of CUDA and OpenCL backends using the  geryon library as the unification layer. This PR adds AMD HIP as a third backend to the geryon library. 
The AMD ROCm open source GPU framework provides the driver and the programming tools for new high performance AMD GPUs (including the new Vega20 architecture). ROCm supports OpenCL 2.0 standard and OpenCL 1.2 compatibility mode. However the existing OpenCL back-end of LAMMPS is not compatible with ROCm due to some deviations from the standard (#1368). Some small changes in all *.cu files are required. That is why the current version of GPU package can not be used with ROCm at all. This PR removes this restriction. Besides, the HIP backend is more than 30% faster than the OpenCL backend.
HIP is a part of the AMD ROCm framework. This new HIP-backend can be used either with the hcc compiler for AMD GPUs, or with the nvcc compiler for Nvidia GPUs. In the latter case, the HIP acts as a thin layer between the library and CUDA.

**Related Issues**
This PR is related to issue #1368 and opens a new way of running LAMMPS on AMD GPUs that support ROCm without fixing the current version of the GPU package OpenCL-backend that is not fully compatible with the OpenCL standard required for ROCm. The issue #1368 could be probably closed after merging.

**Author(s)**
Evgeny Kuznetsov (@eokuznetsov), Vladimir Stegailov (v.stegailov@hse.ru, stegailov@gmail.com, @vvsteg), Vsevolod Nikolskiy (thevsevak@gmail.com, @Vsevak)
International Laboratory for Supercomputer Atomistic Modelling and Multi-scale Analysis, National Research University Higher School of Economics, Russia

**Licensing**
By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**
This PR should not break backward compatibility. The solution is implemented as the third backend in addition to existing CUDA and OpenCL. The decision between CUDA, OpenCL, and HIP is a compile-time decision for compiling the library in lib/gpu.

**Implementation Notes**
See #1590.
This PR has been tested using ROCm 2.2-3.0 and different standard LAMMPS input examples on Radeon VII (gfx906), Radeon RX 480 (gfx803), Radeon RX Vega (gfx900),  and Titan V (sm_70) with OpenMPI and MPICH.
The new HIP backend has not been integrated into CMake yet.

**Post Submission Checklist**
- [x] The feature or features in this pull request is complete
- [x] Licensing information is complete
- [x] Corresponding author information is complete
- [x] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [x] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [x] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**


",12007030
30,2019-12-03T21:35:58Z,2020-03-11T14:41:51Z,,,"**Summary**

The C standard library function `strtok` uses internal static data to manage its state, which unfortunately is not thread-safe. In most cases, LAMMPS is unaffected by this. However, the Adaptive MPI runtime virtualizes MPI ranks as user-level threads, which may execute concurrently across kernel threads in the same process. Virtualizing ranks in this way requires thread safety issues to be addressed.

This PR changes all calls to `strtok` in the `src/` folder of the LAMMPS repository to use the thread-safe POSIX standard `strtok_r` function instead. Microsoft Visual Studio does not provide this function, but it handles `strtok` in a thread-safe manner, so a shim is provided in `lmpwindows.h`.

This change aligns well with the modularity concerns behind the LAMMPS project's directive against use of global variables.

**Related Issues**

N/A

**Author(s)**

Aayush Raj (Charmworks, Inc.)
Evan Ramos (Charmworks, Inc.)

**Licensing**

By submitting this pull request, I agree, that our contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

No changes.

**Implementation Notes**

This PR consists almost entirely of mechanical changes to the LAMMPS source code.

**Post Submission Checklist**

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system

**Further Information, Files, and Links**

- Adaptive MPI manual: https://charm.readthedocs.io/en/latest/ampi/manual.html
- `strtok_r` documentation: https://linux.die.net/man/3/strtok_r
- thread safety of MSVC's `strtok`: https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/strtok-strtok-l-wcstok-wcstok-l-mbstok-mbstok-l",12007030
31,2019-11-26T20:46:39Z,2020-03-18T22:51:06Z,,,"**Summary**

Possible refactorization of atom styles with goal of making it as simple as possible for a  developer
to add a new atom style.

**Related Issues**

N/A

**Author(s)**

Steve

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

Styles that have been refactored should work identically as before.

**Implementation Notes**

The basic idea is that the AtomVec child classes (atom style classes) only specify
lists of peratom variables that need to be communicated in various categories.
The parent AtomVec class now loops over those lists and packs/unpacks them
into communication buffers in a more generic manner than previously.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

_Put any additional information here, attach relevant text or image files, and URLs to external sites (e.g. DOIs or webpages)_


",12007030
32,2019-11-05T20:01:13Z,2020-02-03T22:29:23Z,,,"**Summary**

Add a fix dummy command which other styles can use to create a placeholder fix (early in the input script) which is replaced later with the desired fix.  This enables the ordering of fixes to correspond to the listing of commands in the input script.  This addresses a bug reported where granular history was not preserved correctly with fix deform or fix balance when they migrated atoms w/out FixNeighHistory having been invoked soon enough to assign history to atoms.

**Related Issues**

N/A

**Author(s)**

Steve

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

Should not, but regression testing should be done.

**Implementation Notes**

_Provide any relevant details about how the changes are implemented, how correctness was verified, how other features - if any - in LAMMPS are affected_

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

_Put any additional information here, attach relevant text or image files, and URLs to external sites (e.g. DOIs or webpages)_


",12007030
33,2019-11-05T02:42:43Z,2019-11-06T16:40:02Z,,,"**Summary**

This ""fix"" allows users to introduce and propagate a crack of desired mode, or combination of modes (I, II, or III) in a sample of atoms 

**Author(s)**

Nathan Beets, Dr. Diana Farkas

**Licensing**

N/A

**Backward Compatibility**

This code is backwards-compatible

**Implementation Notes**

All source code and input scripts were tested with a variety of stress intensities and Mode combinations.  the .cpp and .h files are located in the /src/ folder of this pull request, and so building the serial or mpi version of LAMMPS after typing ""make-yes-all"" should automatically create an executable with this fix included as a functional command. 

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

_Put any additional information here, attach relevant text or image files, and URLs to external sites (e.g. DOIs or webpages)_


",12007030
34,2019-09-16T17:04:40Z,2020-01-25T02:37:31Z,,,"**Summary**

This is a ""work in progress"" PR for a port of fix rigid to Kokkos.

**Author(s)**

Stefan Paquay @ Brandeis University (stefanpaquay@gmail.com)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

Only adds new features so is backward compatible.

**Implementation Notes**

Ported stuff to Kokkos using Stan's advice. Wrote some notes about the process. To verify I check the examples in examples/rigid.

**Post Submission Checklist**

- [ ] The feature or features in this pull request is complete
- [x] Licensing information is complete
- [x] Corresponding author information is complete
- [x] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

_Put any additional information here, attach relevant text or image files, and URLs to external sites (e.g. DOIs or webpages)_


",12007030
35,2019-08-28T16:09:03Z,2020-03-20T20:12:54Z,,,"**Summary**

- Use macros to support OpenMP in GCC 9.x.
- Reenable OpenMP by default for GCC 9.x in cmake builds.

This replaces the script `hack_openmp_for_pgi_gcc9.sh`, which required manual intervention and modifies the source tree.

**Author(s)**

Michael Lamparski, diagonaldevice@gmail.com

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

This change is backwards compatible.

**Implementation Notes**

A python script was used to perform commit dbb4d0413283.  This will be posted in a following comment.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated

**Further Information, Files, and Links**

See https://github.com/lammps/lammps/issues/1482",12007030
36,2019-06-15T22:58:40Z,2020-03-26T02:39:23Z,,,"**Summary**

Provides an implementation of the CAC method as presented in:
Chen, Y. Reformulation of microscopic balance equations for multiscale materials modeling. 
The Journal of Chemical Physics 130, 134706, (2009).

The implementation is designed for scalability with both uniform and multi-resolution models.


**Author(s)**

Adrian Diaz (University of Florida) 
Email: adriandiaz@ufl.edu

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

Clear of Conflict (at least without accounting for unforeseen bugs)

**Implementation Notes**

Several styles are implemented to carry forth the calculations required for the CAC method to be solved in parallel; this includes atom, comm, fix, dump, min, and compute styles. In addition several parent interfaces are added to for operation such as neighbor.cpp.

Correctness was verified with several example CAC and pure MD simulations (to make sure changes didn't break the original LAMMPS code execution). A couple of these examples can be found in the examples folder for USER-CAC.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**




",12007030
37,2019-05-22T12:05:29Z,2020-01-15T17:27:01Z,,,"**Summary**

_Briefly describe the new feature(s), enhancement(s), or bugfix(es) included in this pull request._

**Related Issues**

_If this addresses an open GitHub issue for this project, please mention the issue number here, and describe the relation. Use the phrases `fixes #221` or `closes #135`, when you want an issue to be automatically closed when the pull request is merged_

**Author(s)**

Thomas D Swinburne (Corresponding)
CNRS / CINaM Marseille 
swinburne@cinam.univ-mrs.fr

Mihai-Cosmin Marinica
SRMP, CEA, Saclay, France

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**
None

**Implementation Notes**
Only change outside of USER-PAFI directory
Addition of new atom styles pafi and pafipath- minor changes (fully compatible) to atom.h, atom.cpp

gather_peratom_fix library function- minor changes (fully compatible) to library.h library.cpp

USER-PAFI package:
Addition of hp and ave/deviation fixes
Addition of pafi and pafipath atomvecs

Successful compilation in serial / parallel, tested on multiple architectures.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

_Put any additional information here, attach relevant text or image files, and URLs to external sites (e.g. DOIs or webpages)_


",12007030
38,2019-05-20T18:46:43Z,2020-01-31T17:43:12Z,,,"
**Summary**

Adds functionality in the form of a check_distance function and a set_hold_properties function to atom_vec. These serve the role of enabling developers to program their own neighbor rebuild diagnostics for automated neighbor rebuilds. The interface to call these functions is also placed in neighbor.cpp

**Related Issues**


**Author(s)**

Adrian Diaz (University of Florida)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

Clear of Conflict

**Implementation Notes**

The only additional computation for a standard run is three if checks in neighbor.cpp. The implementation was tested with a custom atom vec style that invokes extended objects. Correctness was verified by comparing the outputs of ""check every n"" with the automated rebuild strategy for dynamic simulations.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_


**Further Information, Files, and Links**




",12007030
39,2019-04-11T19:02:21Z,2020-01-31T17:43:19Z,,,"**Summary**

Fixes a memory error that would occur when both sendself and recvother in the borders routine were flagged to allocate ghosts in avec->unpack_border. The use of max== as a criterion to grow the array introduces a segfault since the index fed to unpack for the sendself routine assumes array allocation has already taken place for the ghosts received as part of recvother; the role played by the firstrecv array.

**Related Issues**

N/A

**Author(s)**

Adrian Diaz (University of Florida)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

Clear of Conflict

**Implementation Notes**

Segfaulting case with a long cutoff radius was resolved.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_


**Further Information, Files, and Links**




",12007030
40,2019-03-28T21:22:58Z,2020-01-25T02:36:00Z,,,"**Summary**

This pull request implements exchange communication for fixes on Kokkos. This is a particular issue when using FixNeighHistory, which would fallback to classic communication. We expect to improve performance when using cuda-aware MPI implementations due to reduced number of copies to host memory.

**Related Issues**

No issue related to this pull request.

**Author(s)**

Denis Taniguchi (denis.taniguchi@gmail.com) - Newcastle University

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

No backward compatibility issues.

**Implementation Notes**

Major changes can be seen in CommKokkos::exchange_device. After all AtomVec exchanges are performed we loop over the fixes flagged as extra_grow. We call pack_exchange_kokkos/unpack_exchange_kokkos in each of them. Each fix has a separate call to MPI_Irecv/MPI_Send/MPI_Wait. Since there is no guarantee that the unpack in fixes will happen in the same order as in AtomVec (remember that we rely on atomic operations to define the index of the new incoming atom in AtomVec) we need a new interface that returns the indices assigned to each unpacked atom. That was included in AtomVecKokkos with empty default implementation (returning 0). Those indices are used while unpacking data for fixes ensuring that we correctly match the info in AtomVec with info in fixes.
This pull request include implementations for AtomVecSphereKokkos, FixNeighHistoryKokkos, and FixWallGranKokkos already compatible with the new feature in CommKokkos.
If you use AtomVecs not compatible with exchange comm for fixes we fallback to classic comm. This is verified using a new unpack_exchange_indices_flag member variable in AtomVecKokkos. If you wish to make your AtomVec* compatible with fixes exchange, set unpack_exchange_indices_flag to 1 and implement:
```
int unpack_exchange_kokkos(
  DAT::tdual_xfloat_2d &k_buf,
  DAT::tdual_int_1d &indices,
  int nrecv, int nlocal, int dim,
  X_FLOAT lo, X_FLOAT hi,
  ExecutionSpace `space);
```
Fixes must provide:
```
virtual int pack_exchange_kokkos(const int &nsend,DAT::tdual_xfloat_2d &buf,
                                 DAT::tdual_int_1d k_sendlist,
                                 DAT::tdual_int_1d k_copylist,
                                 ExecutionSpace space, int dim,
                                 X_FLOAT lo, X_FLOAT hi);
virtual void unpack_exchange_kokkos(DAT::tdual_xfloat_2d &k_buf,
                                    DAT::tdual_int_1d &indices,int nrecv,
                                    int nlocal,int dim,X_FLOAT lo,X_FLOAT hi,
                                    ExecutionSpace space);
```
Implementation was validated using the attached case, which is a variation of the chute case.
An example of command to run the case is given bellow:
`mpirun -np 3 lmp_kokkos_cuda_mpi -k on g 3 -sf kk -pk kokkos neigh half -in in.gran`

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted. Delete lines that don't apply_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

[in.gran.txt](https://github.com/lammps/lammps/files/3020186/in.gran.txt)
[data.chute.txt](https://github.com/lammps/lammps/files/3020188/data.chute.txt)

",12007030
41,2019-03-06T18:16:54Z,2019-06-27T04:20:52Z,,,"**Summary**

Adds an optimized fix `pour` implementation accessible as `pour/opt` to reduce time needed for insertions. I need to work on this, do some more testing myself, which is why I'm creating only a draft PR.

**Author(s)**

@rbberger  (Temple U)

**Licensing**

By submitting this pull request, I agree, that my contribution will be included in LAMMPS and redistributed under either the GNU General Public License version 2 (GPL v2) or the GNU Lesser General Public License version 2.1 (LGPL v2.1).

**Backward Compatibility**

needs testing, some folks from SNL have been testing it

**Implementation Notes**

Adds a generic cell list implementation to the Granular package which is the data structure used to reduce the number atoms checked during insertion.

**Post Submission Checklist**

_Please check the fields below as they are completed **after** the pull request has been submitted_

- [ ] The feature or features in this pull request is complete
- [ ] Licensing information is complete
- [ ] Corresponding author information is complete
- [ ] The source code follows the LAMMPS formatting guidelines
- [ ] Suitable new documentation files and/or updates to the existing docs are included
- [ ] The added/updated documentation is integrated and tested with the documentation build system
- [ ] The feature has been verified to work with the conventional build system
- [ ] The feature has been verified to work with the CMake based build system
- [ ] A package specific README file has been included or updated
- [ ] One or more example input decks are included

**Further Information, Files, and Links**

Motivated by my previoius work I did in my PhD thesis a long, long time ago.

",12007030
42,2019-01-21T19:37:35Z,2020-02-05T18:54:57Z,,,"## Purpose

Enables comm style tiled to use multiple cutoff lengths to communicate ghosts in the borders function.

## Author(s)

Adrian Diaz (University of Florida)

## Backward Compatibility

Clear of Conflict

## Implementation Notes

Additional sendbox arrays are defined, allocated, and then defined using the multiple cutoffs available in cuttype from the Neighbor class. The changes were tested with a lead tellurium/ lead selenium interface model using both single and multi settings.


",12007030
43,2020-03-22T02:43:46Z,2020-03-22T03:47:13Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

The `login`.`userid` column should be unique to prevent 3rd party tools from creating multiple accounts with identical user name.

**Replaces PR:** #2169

**Issues addressed:** None.


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
44,2020-03-22T01:22:01Z,2020-03-22T03:45:56Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

In #2583 the column size of `ipbanlist`.`list` was changed to 13 to match the server specific format. @pazkero [mentioned](https://github.com/HerculesWS/Hercules/pull/2583#issuecomment-586376498) that custom code may uses a complete IP for bans. Thus the column size should be expanded at least to 15.
To enable custom code to even use IPv6 addresses it should be expanded to 39.

**Issues addressed:** #2631 


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
45,2020-03-19T03:55:47Z,2020-03-19T03:55:47Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
Update packets table.
Update shuffle packets and packet keys.
",7551429
46,2020-03-15T04:30:03Z,2020-03-19T07:49:28Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Liete mentioned that skills don't check if the equipped ammunition type is appropriate for equipped weapon and thus can be cast with wrong ammunition type equipped.

> Liete
> Hello.
> Can anyone help me out with this issue:
> I have set certain skill - Spread Shot to be working with grenade launchers, but there is a problem it uses both bullets and grenades be it shotgun or launcher equipped.

The actual problem is that you can equip bullets or grenades regardless of the equipped weapon type. This issue has already been reported: #2579
Since this needs some more information before completely get fixed this PR is a quick workaround for the time being.

**Issues addressed:** #2661, Partially #2579


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
47,2020-03-13T06:28:24Z,2020-03-16T11:42:29Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Add 7 new status changes and use them for the related items.

**Replaces PR:** #1177

**Issues addressed:** None.


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
48,2020-03-13T06:06:57Z,2020-03-14T22:05:30Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Currently the auto-cast related code is a mess.
 * We have `map_session_data->state.autocast` which is used to temporarily flag a skill as auto-cast for skills cast by `bAutoSpell*` bonuses or by Auto Shadow Spell. It's also (mis)used to prevent damage reflection from infinite looping.
 * We have `map_session_data->state.abra_flag` which isn't actually used. It's just set when casting Abracadabra or Improvised Song, but then never used for validation.
 * We have `map_session_data->skillitem` and `map_session_data->skillitemlv` which hold the auto-cast skill's ID and level. `map_session_data->skillitem` is misused to validate auto-casting all over the code.
 * As of late we have the `itemskill()` script command related states and helper variables.
 * Unsetting/validating the auto-cast data in the right place currently is more likely gambling.

\------------------------------------------------------------------------------------------------------------------

I spent some days in getting into the subject and cleaned it up as far as possible.
 * I added an enumeration for auto-cast types to be able to handle each one separately and use those types for validation instead of the auto-cast skill's ID.
 * I added a structure to unify all auto-cast related data in one place.
 * I added a function which validates the plausibility of auto-cast related data.
 * I revised where and when `pc_autocast_clear()` (former `pc_itemskill_clear()`) gets called.
 * I removed obsolete code parts.
 * I made skills cast by Improvised Song ignore all requirements.


**Issues addressed:** #1211


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
49,2020-03-12T21:34:13Z,2020-03-12T22:46:42Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Using `ITEMINFO_NAME` or `ITEMINFO_AEGISNAME` in `getiteminfo()` script command causes an overflowing pointer error when the respective stack element gets freed.

> [Error]: Memory manager: args of aFree 0x052B7B62 is overflowed pointer ...\src\map\script.c line 3774

Therefore `script_pushstrcopy()` should be used instead of `script_pushstr()` to push the item's name to the script stack.

**Issues addressed:** None.


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
50,2020-03-11T17:01:09Z,2020-03-11T23:56:09Z,,,"### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

The `StringBuf` in `npc_expanded_barter_fromsql()` function isn't freed if the statement preparation/execution fails and thus generates a memory leak.

**Issues addressed:** None.


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
51,2020-03-09T15:23:47Z,2020-03-11T23:55:46Z,,,"
<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

<!-- Describe the changes that this pull request makes. -->
- refactor mapflag related codes
- rearranged the codes based on mapflag index (easier for future to find and refer?)
- added missing mapflags.  
```
	mf_nomapchannelautojoin:    61
	mf_noknockback:             62
	mf_cvc:                     63
	mf_src4instance             64
```

**Issues addressed:** <!-- Write here the issue number, if any. -->
none

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
52,2020-03-07T21:26:57Z,2020-03-09T12:25:56Z,,,"
<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

<!-- Describe the changes that this pull request makes. -->
- mapflag to disable pet, and force return to egg.
- allow to set `mf_nopet` mapflag at any maps.

**Issues addressed:** <!-- Write here the issue number, if any. -->
Enable to control pet restriction in any maps, not just `mf_gvg` or `mf_gvg_castle` maps.

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
53,2020-03-07T14:31:12Z,2020-03-08T03:44:55Z,,,"
<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

<!-- Describe the changes that this pull request makes. -->
- Enable user to detect ""used"" item_db (happen when server has custom item_db that clashed with latest update from Herc if any)
- able to detect duplicated items where inherit field aren't used.
- Enable user to detect ""duplicated"" item_db (happen when user aren't aware of multiple duplicated entries in the past, only happen if `inherit: true` aren't used.)
- Encourage user to use `inherit: true` field for their custom changes to existing item_db.

**Issues addressed:** <!-- Write here the issue number, if any. -->
Detect whichever item_db ID are currently clashed with each other (if any)
Lesser duplicated entries of item_db, especially server who has alot custom items.

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
54,2020-03-01T14:22:55Z,2020-03-07T19:09:17Z,,,"<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.


### Changes Proposed

<!-- Describe the changes that this pull request makes. -->

Since macro is used in message, I believe we can't move it to messages.conf yet, and it will display the format specifier instead of value

**Issues addressed:** <!-- Write here the issue number, if any. -->
None

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
55,2020-02-22T00:41:12Z,2020-03-13T09:08:03Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

 * Fix the issue, where not even the fake name shows up, when using `@fakename` in RE clients.
 * Add parameter `options` to `@fakename`, to be able to select which names will be displayed.

**Replaces PR:** #2168

**Issues addressed:** #1966


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
56,2019-12-26T08:28:25Z,2020-03-13T09:04:49Z,,,"<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

<!-- Describe the changes that this pull request makes. -->
* Added enumerations for pet hunger/intimacy levels
* Added value capping to `pet_set_intimate()` function.
* Adjusted pet catch rate calculation. (Thanks to @hemagx.)
* Adjusted pet intimacy calculation when feeding. (Thanks to @hemagx.)
* Made `pet_hungry_timer` only be added if a pet's `HungerDelay` is greater than 0.
* Added a `HungerDelay` validation to `pet_hungry()` function.
* Added a base rate validation to `pet_target_check()` function.
* Added a monster ID validation to `pet_read_db_sub()` function.
* Removed `SpriteName` field from pet DB.
* Changed `EggItem` field in pet DB to be mandatory.
* Added default values and limits to pet DB fields.
* Added new field `HungerDecrement` to pet DB.
* Added new field `Intimacy.StarvingDelay` to pet DB.
* Added new field `Intimacy.StarvingDecrement` to pet DB.
* Removed `pet_hungry_friendly_decrease` config setting.
* Increased `MAX_MOB_DB` to 22000.
* Added some layout changes to the pet DB file headers. (entry structure)
* Added pet DB documentation file. (doc/pet_db.txt)
* Removed fields from pet DB where default values can be used.
* Added intimacy validation to pet DB `EquipScript` fields.
* Removed `pet_equip_min_friendly` config setting.
* Adjusted `inter_pet_tosql()` and `inter_pet_fromsql()` functions to use prepared statements.
* Added `pet_set_hunger()` function.
* Applied code style to touched functions in src/char/int_pet.c.
* Applied code style to touched functions in src/map/atcommand.c.
* Applied code style to touched functions in src/map/clif.c.
* Applied code style to touched functions in src/map/pc.c.
* Applied code style to touched functions in src/map/pet.c.
* Applied code style to touched functions in src/map/script.c.
* Applied code style to pet related part of `status_calc_pc_()` function.
* Won't apply code style to touched functions in src/map/unit.c, because of https://github.com/HerculesWS/Hercules/pull/2546.

**Issues addressed:** #2434. #303


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
57,2019-12-14T22:05:37Z,2020-03-08T14:47:18Z,,,"<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
In my opinion it's pointless to have two script commands, which do the same thing in different ways.
That's why I'd like to deprecate `set()` completely, as already mentioned in doc/script_commands.txt, and where needed use `setd()` instead.

Modified `BUILDIN(setd)` to accept references to variables, too.
Marked `set()` as deprecated.
Updated doc/script_commands.txt.
Updated non-custom scripts to **not** use `set()` anymore. (Custom scripts will follow.)

**Issues addressed:** None.


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
58,2019-12-08T09:49:46Z,2020-03-08T22:28:03Z,,,"<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
There's many and several player, homunculus, mercenary and elemental natural heal behaviors which was either designed or assumed based on guesses, wrong calculations on unreliable player sources, this pull request aims to fully fix it and it was based on heavy aegis research on different episodes.
(EP 8 (Pre-trans), EP 9 and 10 (After trans), EP 14.3 (Renewal)

the changes proposed is as the following
#### Finished Changes
* Removal of several unused variables from struct regen_data
* Change naming of misleading member names in struct regen_data
* Change the HP/SP heal frequency rate from a base of 1 to a base of 100, as some skills increase in percentages
* Fixing castle owning natural heal bonus, as it was only applied when players moves to castle, disregarding the case of when enemy guild take over a castle
* Removal of unsigned short hp/sp heal amounts as it made calculation more difficult and code messy, the final value is still capped however as older clients can't process anything further UINT16_MAX for those values
* Rewrite status_calc_regen and status_calc_regen and turn them into separate sub functions based on object type as not all objects benefit of same bonuses and to disregard mega switches.
* Fix status effects that was affecting several object types while it should only affect specific objects type (Player, Homu, Mercenary, Elemental)
* Fixed several item effects that was affecting regen rate instead of regen values, possibly a misunderstanding of the meaning of rate as it changes heal frequency instead of heal amounts
* Correcting how heal rate is calculated as it's a cumulative percentage not a summed one, with this also fixed the order to match Aegis one
* Implemented the correct different heal intervals for each object type, previously we only had Player and Homunculs, and homunclus heal rates was wrongly assumed
* Fix homunculus brain surgery skill effect as it should affect heal frequency not heal amounts
* Aegis puts a limit on how fast a heal interval can be, however Hercules doesn't, this is implemented and fixed within this PR.
* Fixed Tension Relax behavior as it was increasing HP regeneration rate when overweight instead of just allowing it, and also allowed SP regeneration when it should not.
* Fixed Magnificant increasing HP regeneration rate, it was wrongly assumed that it was removed in renewal when it was actually removed with Comodo update with the new HP regeneration formula
* Fixed HAMI_SKIN affecting HP heal amounts instead of HP regeneration rate

<!-- Describe the changes that this pull request makes. -->

**Issues addressed:** <!-- Write here the issue number, if any. -->
None which I'm aware of right now, i will check issues when RP is complete and link them if applicable.

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
59,2019-11-18T03:23:40Z,2020-03-08T14:54:11Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
Add support for libbacktrace for logging call stack.
Current solution based on execinfo.h not works for hidden functions. And current hercules link flags hiding all functions.
Libbacktrace show stack based on debug information and not related to linkage flags.

Enabled for linux only. For macosx need update xcode project.",7551429
60,2019-05-14T17:58:33Z,2020-01-18T08:59:08Z,,,"<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
- `npc_duplicate(....)` duplicate any existing npc.
- `npc_duplicate_remove(...)` will remove any existing NPC other than itself.

Recently [kRO seem like added an item that will create a Treasure Chest NPC](https://forum.gamer.com.tw/C.php?bsn=4212&snA=421473&tnum=1&subbsn=23) nearby player to retrieve item. 
<details>

1. click on the item
![consume item](https://i.imgur.com/yxezZaU.jpg)

2. create a npc, talk to it, select to consume 1 key or 10 keys.
![create npc](https://i.imgur.com/ZiXqZOK.jpg)

3. obtain item
![obtain item](https://i.imgur.com/0x27CjF.jpg)

</details>

Anyway, its a useful script command.
Original src :  https://github.com/dastgirp/HPM-Plugins/blob/master/src/plugins/npc-duplicate.c

**Issues addressed:** <!-- Write here the issue number, if any. -->
none

**Known Issue:**
https://github.com/dastgirp/HPM-Plugins/issues/40 
Not sure if this issue still persists, cant seem to duplicate this issue for now.

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
61,2019-05-12T08:51:44Z,2019-05-12T16:56:43Z,,,"<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Implemented the following new achievement types:
1. ACH_ZENY_SPEND_VENDING - Spend a specific amount of zeny in one transaction to a vending player)
2. ACH_ZENY_SPEND_VENDING_TOTAL - (Accumulative) Spend a specific amount of zeny in total to a vending player
3. ACH_PET_INTIMACY - (Accumulative) Successfully reach a specific pet intimacy
4. ACH_PET_RUNAWAY - (Accumulative) Successfully make a pet runaway

Updated the following achievement criteria:
1. MobId criteria now accepts 0 as valid value for a wildcard achievement monster class

Update the following in script constant:
1. Moved Achievement types from constants.conf to script.c

<!-- Describe the changes that this pull request makes. -->

**Issues addressed:** <!-- Write here the issue number, if any. -->


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
62,2019-03-25T13:30:50Z,2019-04-10T11:22:24Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Issues addressed
` skill TF_HIDING, -1;` <-- actually gives you hiding skill level 255

### Changes Proposed
Add skill_check_invalid_level for plugin
http://herc.ws/board/topic/16616-portal-skill/?do=findComment&comment=91018

### Affected Branches
* Master

### Known Issues and TODO List
none",7551429
63,2019-02-27T18:17:16Z,2019-03-02T21:04:36Z,,,"After I give it some thought, I think better split the `*getunitname` deprecation out from https://github.com/HerculesWS/Hercules/pull/2391

-----------------------------------

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Issues addressed
we have 2 script command do the same thing, `*rid2name` and `*getunitname`

### Changes Proposed
deprecate `*getunitname` because rid2name has been exist since eathena times
also minor fix rid2name to support elementals

### Affected Branches
* Master

### Known Issues and TODO List
we have to decide which one to deprecate,
better don't have 2 script commands do exact same thing again, like this https://github.com/HerculesWS/Hercules/pull/2089",7551429
64,2019-02-25T11:35:58Z,2019-02-26T10:22:18Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

_Note: Was unsure of the best way to go about this._

Some time ago the behavior was changed for when a party leader leaves the party. I feel a config option should have been added to retain the old behavior.

**Old:** Disband the party.
**Current:** Pass the party leader to another player.
**New:** Uncomment `#define PARTY_LEADER_LEAVE` in `src/config/classes/general.h`

Perhaps others can input on a better way to implement a config option.

**Issues addressed:** <!-- Write here the issue number, if any. -->

N/A

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
65,2019-02-21T00:09:56Z,2019-02-28T15:25:30Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

<!-- Describe the changes that this pull request makes. -->
Adds `UDT_MOBID` for `getunitdata()` and `setunitdata`.

This is necessary because `getunitdata(<Mob GID>, UDT_CLASS)` retrieves the Sprite ID for BL_MOB. Which means if you use it on a mob which was generated using **db\mob_avail.txt**, then you will not get the actual Monster ID.

**Issues addressed:** <!-- Write here the issue number, if any. -->
N/A

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
66,2019-01-22T14:00:28Z,2019-09-12T10:59:32Z,,,"### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
1. Adds new buildin **equipidx()**.
i.e. `equipidx(<index>{, <item id>})`

The reason for this change is it allows you the option to choose the specific inventory index to equip. Of course, you need to know the inventory index.

Currently I am using this in a mass refiner script. Since you need to equip an item to refine it, I was having trouble due to the equip() command always equipping the lowest index (I believe that's what it was doing).

Here is a sample in which all the different versions of 'Knife' are cycled through and equipped every 1 second.
```
.@id = Knife;
getinventorylist();
for (.@i = 0; .@i < @inventorylist_count; .@i++) {
	if (@inventorylist_id[.@i] == .@id) {
		.@Index[.@j] = .@i;
		.@j++;
		.@count++;
	}
}

for (.@i = 0; .@i < .@count; .@i++) {
	equipidx(.@Index[.@i], .@id);
	sleep2(1000);
}
end;
```

2. equip(<item id>) now returns 0 or 1 depending on whether the item successfully equipped.

**Issues addressed:** <!-- Write here the issue number, if any. -->
N/A

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
67,2019-01-13T04:16:32Z,2020-01-11T08:04:26Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
- Adds support for **account id** to `getcharid()`.
I.e.
`getcharid(<type>{, ""<character name>""})`
`getcharid(<type>{, <account id>})`

- Deprecates `charid2rid()` in favour of `getcharid(CHAR_ID_ACCOUNT, <char id>)`.

**Issues addressed:** <!-- Write here the issue number, if any. -->
N/A

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
68,2018-11-27T11:37:28Z,2018-12-14T00:23:35Z,,,"- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
Today, the equip protect status (SC_PROTECTWEAPON, SC_PROTECTHELM, SC_PROTECTARMOR, and SC_PROTECTSHIELD) only apply if there's equip on a respective slot.

Old days, the protect status, apply without the test. So, protect shield work with no shield equip. This PR creates a config that allows going back old days =]

**Issues addressed:**
There is no issues


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
69,2018-10-23T21:30:06Z,2018-12-19T05:06:14Z,,,"<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
mes to mesf npc/other
<!-- Describe the changes that this pull request makes. -->

**Issues addressed:** <!-- Write here the issue number, if any. -->
https://github.com/HerculesWS/Hercules/issues/2233

<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
70,2018-10-23T17:02:42Z,2019-06-08T09:17:04Z,,,"Image corporate.

<!-- Before you continue, please change ""base: stable"" to ""base: master"" and
     enable the setting ""[√] Allow edits from maintainers."" when creating your
     pull request if you have not already enabled it. -->

<!-- Note: Lines with this <!-- syntax are comments and will not be visible in
     your pull request. You can safely ignore or remove them. -->

### Pull Request Prelude

<!-- Thank you for working on improving Hercules! -->
<!-- Please complete these steps and check the following boxes by putting an `x`
     inside the [brackets] before filing your Pull Request. -->

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR may be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

<!-- Describe the changes that this pull request makes. -->

**Issues addressed:** <!-- Write here the issue number, if any. -->


<!-- You can safely ignore the links below:  -->

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
71,2018-10-22T02:52:53Z,2020-01-12T16:13:55Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

- (Master)

**Issues addressed:**

Surprisingly I'm not completely done contributing to this project. :p

I took some time this last week or so to go through some of the missing event scripts as well as fix some stuff up.

This Pull Requests does the following:

* Adds 2006 Xmas event script.
* Adds 2007 Xmas event script.
* Adds 2009 Xmas event script.
* Adds 2010 Xmas event script.
* Adds 2010 Valetine's Day event script.
* Adds 2010 April Fool's Day event script.
* Properly dates the existing Xmas, Whiteday, and Valetine's Day scripts.

The dates for the 2004 scripts were confirmed by looking through jAthena files and comparing the quest's contents with event posts from jRO, iRO, and kRO.

I'll be back with more scripts later.

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
72,2018-10-19T14:36:48Z,2019-04-28T15:39:15Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Minor edits to npc/cities/amatsu.txt to make it HULD compatible.
**Affected Branches:** 

[//]: # (Master? Slave?)
stable
**Issues addressed:**

[//]: # (Issue Tracker Number if any.)
#2233 
### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
73,2018-10-16T07:20:47Z,2018-10-26T01:04:25Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Adds the `@who4` command. Same as regular `@who`, but excludes vendors from the list.

**Affected Branches:** 

[//]: # (Master? Slave?)
- [x] master
- [x] stable

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)
N/A

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)
N/A

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
74,2018-10-12T08:56:33Z,2018-10-26T01:09:00Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
1. Adds the `checkwall()` script command, which will return if wall exists. Needed for scripts which attempt to delete non-existent walls.
2. Adds the new `checkwall()` to agit_main_se script, which attempts to delete a non-existent wall when War of Emperium starts.

**Affected Branches:** 

[//]: # (Master? Slave?)
- [x] master
- [x] stable

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)
#2119 

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)
None known.

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
75,2018-10-08T22:30:25Z,2019-10-12T18:24:29Z,,,"…he new map_cache system

[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
The documentation for the map_cache system did not match with the new system. So I created a markdown document to reflect the changes as shown in this [guide](http://herc.ws/board/topic/15868-guide-mapcache-generation-2018/)

**Affected Branches:** 
Master

**Issues addressed:**
#2060 

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
76,2018-10-08T03:07:38Z,2019-04-28T15:39:14Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 
npc/cities/aldebaran.txt
[//]: # (Master? Slave?)
stable
**Issues addressed:**
HULD Compatibility
[//]: # (Issue Tracker Number if any.)
#2233 
### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
77,2018-10-07T16:12:34Z,2020-02-02T20:10:28Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

Fixes Several warnings that were displayed by LGTM (still many more are left, which I may do it later on other PR)
Some warnings are suppressed like ""Poor global variable name"" which requires global variable to be > 3 characters
Most fixes are of multiplication overflow. some are of comparison result always true/false

**Affected Branches:** 

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)


[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
78,2018-10-07T13:22:32Z,2018-10-26T01:16:19Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [X] I have followed [proper Hercules code styling][code].
- [X] I have read and understood the [contribution guidelines][cont] before making this PR.
- [X] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Adds an additional conditional statement before setting a particular player's position. Re-used  `pc_cant_act` which covers all the conditions mentioned in the issue. In addition, it also checks for players who are active in the past 300 seconds.

Since i don't see any configuration variable storing a value that denotes something like -> **how many seconds before we determine a user is idle?** I'm not sure if I should introduce a new global variable since such a timeout is only used for this command.

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 
- master

**Issues addressed:**
-  https://github.com/HerculesWS/Hercules/issues/203

[//]: # (Issue Tracker Number if any.)

[//]: https://github.com/HerculesWS/Hercules/issues/203

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
79,2018-10-06T17:25:41Z,2018-10-19T08:34:02Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
npc/warps concatenation in mes replaced with mesf.
[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

[//]: # (Master? Slave?)
master
**Issues addressed:**
https://github.com/HerculesWS/Hercules/issues/2233
[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
80,2018-10-06T16:43:27Z,2019-02-28T16:38:18Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
npc/woe-fe concatenation in mes replaced with mesf.

**Affected Branches:** 
master
[//]: # (Master? Slave?)

**Issues addressed:**
https://github.com/HerculesWS/Hercules/issues/2233
[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
81,2018-10-05T04:39:32Z,2019-04-28T15:39:14Z,,,"@Asheraf asking me to make this script
Working only with python 3.5+

This script will read old-styled item_db.conf and make it compatible with new style.
Usage help:
`item_db_formatter.py -h`

[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)
Todo:
- [x] Make all .py files work with one python version (3.5+ preferred)
- [x] Make all .py files be compatible with PEP8

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
82,2018-10-02T14:41:41Z,2019-10-05T05:37:15Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # 
https://github.com/HerculesWS/Hercules/issues/2214

### Known Issues and TODO List
none

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
83,2018-10-01T15:54:13Z,2020-01-11T07:35:18Z,,,"Adjusted the name of defines to better suit their purpose.

[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** master

[//]: # (Master? Slave?)

**Issues addressed:**
https://github.com/HerculesWS/Hercules/issues/1234  references: https://github.com/rathena/rathena/commit/ed7157c80b0da86aa81d3cfee5e9b9679938b4e2

[//]: # (Issue Tracker Number if any.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
84,2018-09-25T10:22:43Z,2019-10-05T05:34:44Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Addresses #2223 and #1649 by adding a battleconf option for the old behavior.
```
// Party Skill Behavior
// 0: (official) On gvg_noparty and pvp_noparty mapflags, party-based buffs such as Devotion can be used on all party members.
// 1: (eAthena) On gvg_noparty and pvp_noparty mapflags, party-based buffs such as Devotion cannot be used on enemy party members.
party_skill_behavior: 0
```

**Affected Branches:** 

[//]: # (Master? Slave?)
- [x] master
- [x] stable

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)
#2223 

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
85,2018-09-19T01:39:11Z,2020-01-11T06:34:15Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Added new ways to configure Hercules.
Now, can run configure with new parameteres, like:

`
./configure --enable-max-inventory=100 --enable-max-storage=800 --enable-max-zeny=1000000000 --enable-max-cart=200
`
Allowing change environment without using CPPFLAGS or chaning the source.

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

Master

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
86,2018-09-02T05:37:18Z,2020-03-08T18:04:19Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

PetDB2 no longer overrides entry of PetDB

**Affected Branches:** 

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)
#2181 

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
87,2018-08-23T09:53:30Z,2019-02-27T14:31:08Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Adds the `cell_noskill` cell, which allows the setting of cells which players cannot cast skills.

**Affected Branches:** 

[//]: # (Master? Slave?)
- [x] master
- [x] stable

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
88,2018-08-21T21:55:54Z,2018-08-22T16:45:14Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
Stops disguised party invites if disguised. If the party inviter is disguised, they can crash anyone's client just by inviting them to their party (not sure if it will crash on partylock or if player already has party).

Confirmed to crash the target's client in 20160113.

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

[//]: # (Master? Slave?)
- [x] master
- [x] stable

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

- [ ] Test in other clients to see if it is a packetver related thing.

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
89,2018-08-13T09:01:46Z,2018-08-13T10:17:01Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

An extra option will be added to `mob_npc_event_type` so that people can choose if they want NPC event to trigger for most damage, except on Emperium mob.

**Affected Branches:** 
- [x] master
- [x] stable

**Issues addressed:**

N/A",7551429
90,2018-08-11T17:40:27Z,2020-01-11T06:52:04Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Fixes the issue where if two players use @duel on a non-vs (BG, GVG, PVP) map, SA_DISPELL will not work.

*Needs testing and review 🌊*

**Affected Branches:** 
- [x] master
- [x] stable

**Issues addressed:**

#1847 ",7551429
91,2018-08-07T08:51:43Z,2018-10-01T09:31:50Z,,,"Now you can create two accounts with same userid (login)

[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
92,2018-08-06T15:31:55Z,2018-08-30T10:08:00Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Adds a parameter to the `@fakename` command, allowing the display of guild/party names. I previously made this PR, but deleted due to resetting my fork.

E.g.
`@fakename 0 Great Name` - would display the fake name 'Great Name' and hide party, guild and position names.
`@fakename 1 Great Name` - would display the fake name 'Great Name' and hide party name, but not guild and position.

**Affected Branches:** 

[//]: # (Master? Slave?)
- [x] master
- [x] stable

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
93,2018-08-03T03:24:03Z,2018-08-03T04:14:44Z,,,"see http://herc.ws/board/topic/16205-mapc-error/?do=findComment&comment=88875
",7551429
94,2018-07-26T04:47:47Z,2018-10-13T11:18:18Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

Added new scriptcommand ""checkwall"".

**Affected Branches:** 

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

#2119 
### TODO List
[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)
* [ ] As per @EyesOfAHawk , we need to modify WoE SE script

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
95,2018-07-23T14:46:04Z,2018-11-14T16:00:54Z,,,"This is my proposal to fix #2137:

* local functions can no longer be called as events, even if their label begins with `On`
* local functions may be explicitly exported by prepending their name with a colon (`:`).
this allows other scripts to call them as if they were part of their own script
* exported local functions can be called from any script by doing `""npc name""::MyFunction();`

<br>

```c
-	script	npc1	FAKE_NPC,{

	function NonExported {
		return ""[1] non-exported"";
	}

	function :Exported {
		return ""[1] exported"";
	}

	// local call:
	debugmes(NonExported()); // => [1] non-exported
	debugmes(Exported()); // => [1] exported

	// foreign call:
	debugmes(""npc2""::NonExported()); // ERROR: not exported
	debugmes(""npc2""::Exported()); // => [2] exported
}


-	script	npc2	FAKE_NPC,{

	function NonExported {
		return ""[2] non-exported"";
	}

	function :Exported {
		return ""[2] exported"";
	}

	// local call:
	debugmes(NonExported()); // => [2] non-exported
	debugmes(Exported()); // => [2] exported

	// foreign call:
	debugmes(""npc1""::NonExported()); // ERROR: not exported
	debugmes(""npc1""::Exported()); // => [1] exported
}
```

```c++
// local call syntax (unchanged):
<function>({<arg>...})

// foreign call syntax:
""<npc name>""::<function>({<arg>...})
```

<br>

---

Once we all agree I'll edit the script documentation",7551429
96,2018-07-04T22:19:12Z,2018-11-08T03:47:34Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [X] I have followed [proper Hercules code styling][code].
- [X] I have read and understood the [contribution guidelines][cont] before making this PR.
- [X] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

**Issues addressed:** http://herc.ws/board/topic/16098-duplicate-npcs-use-the-same-variable/


### TODO

in a future PR we should review all usage of `duplicate(npc)` and instanced NPCs and update scripts accordingly, then we can set `true_npc_duplicate` to `true`

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
97,2018-07-01T04:27:33Z,2019-04-28T15:39:13Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Creates storage is storage is not yet created.

**Affected Branches:** 

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

#691 

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
98,2018-06-18T10:09:48Z,2018-10-19T04:01:05Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Issues addressed
Fix my hunger for https://github.com/rathena/rathena/pull/3071 ... grrr ...
there is a [`ARR_FIND` macro](https://github.com/HerculesWS/Hercules/blob/stable/src/common/db.h#L986) in the source code, might as well turn it into a script command as well
reminds me of [`*swap`](https://github.com/HerculesWS/Hercules/pull/1012) script command ~

### Changes Proposed
Add *array_find script command

### Tested with
```
prontera,155,185,5	script	test#1	1_F_MARIA,{
	input .@input;
	setarray .@a[5], 2,4,6,8,10;
	.@test1 = array_find( .@a[1], .@input );
	dispbottom .@test1 +"""";
	end;
}

prontera,158,185,5	script	test#2	1_F_MARIA,{
	setarray .@map$, ""prontera"", ""payon"", ""izlude"", ""yuno"", ""alberta"", ""geffen"";
	.@test$ = .@map$[2];
//	.@test2 = array_find( .@map$, .@test$ );
	.@test2 = array_find( .@map$, ""yuno"" );
	dispbottom .@test2 +"""";
	end;
}
```

### Affected Branches
* Master

### Known Issues and TODO List
This is weird, rathena version and @mekolat version return -1 when value not found
but the source code return the array size when value not found ...
which one is correct ??
I personally prefer return array size because this is just a script command without having to use loop
```
	for ( .@i = 0; .@i < getarraysize(.@test); ++.@i )
		if ( .@test[.@i] == 3 )
			break;
	if ( .@i == getarraysize(.@test) )
		dispbottom ""not found"";
```
<----------- SIMPLIFY AS ----------->
```
	.@i = array_find( .@test, 3 );
	if ( .@i == getarraysize(.@test) )
		dispbottom ""not found"";
```",7551429
99,2018-06-16T22:49:12Z,2018-08-26T18:30:13Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Issues addressed
My own https://github.com/HerculesWS/Hercules/issues/2011 ~

### Changes Proposed
1. Deprecate `*strmobinfo` script command
2. `*getmonsterinfo` gets `MOB_ENAME` field
the reason its `MOB_ENAME` but not `MOB_INAME` is because of `--ja--` and `--en--`

### Affected Branches
* Master

### Known Issues and TODO List
as you can see on the 5th patch, some script uses `--ja--` some use `--en--`
so which one to be standardize ?

conf\map\monster.conf
```
// Should the mob_db names override the mob names specified in the spawn files?
// 0: No
// 1: always use the mob_db Name column (english mob name)
// 2: always use the mob_db JName column (original Kro mob name)
override_mob_names: 0
```
what should we do with this ?",7551429
100,2018-06-16T06:36:16Z,2018-06-16T23:31:06Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Issues addressed
heck, this is very dirty method to get the owner ID of each instance
<details>

```
prontera,155,180,0	script	Test Instance	1_F_MARIA,{
	for ( .@i = 0; .@i < .total; ++.@i ) {
		if ( getmapusers( .id[.@i] +""Test"" ) == -1 ) {
			deletearray .id[.@i], 1;
			--.@i;
			--.total;
		}
	}
	mes ""Total Instances -> ""+ .total;
	for ( .@i = 0; .@i < .total; ++.@i )
		.@menu$ += ""[""+ .id[.@i] +""] has ""+ getmapusers( .id[.@i] +""Test"" ) +"" players:"";
	.@s = select( .@menu$ +""continue"" ) -1;
	if ( .@s < .total ) {
		if ( getmapusers( .id[.@i] +""Test"" ) < 0 )
			close;
		warp .id[.@s] +""Test"", 49,49;
		end;
	}
	if ( ( .@ins = instance_create( ""test_bg"", 0, IOT_NONE ) ) < 0 ) {
		announce ""Fail to create instanced."", bc_all;
		end;
	}
	if ( !getstrlen( instance_attachmap( ""guild_vs2"", .@ins, true, .@ins +""Test"" ) ) ) {
		announce ""Fail to create instanced battleground."", bc_all;
		end;
	}
	instance_set_timeout 86400, 86400, .@ins;
	instance_init .@ins;
	warp .@ins +""Test"", 49,49;
	end;
}
guild_vs2	mapflag	src4instance
guild_vs2,49,49,5	script	test dialog	1_F_MARIA,{
	mes strnpcinfo(NPC_MAP);
	select ""Destroy"";
	.@total = getvariableofnpc( .total, ""Test Instance"" );
	while ( getvariableofnpc( .id[.@i], ""Test Instance"" ) != instance_id() && .@i < .@total ) { ++.@i; }
	deletearray getvariableofnpc( .id[.@i], ""Test Instance"" ), 1;
	set getvariableofnpc( .total, ""Test Instance"" ), .@total -1;
	instance_destroy;
	end;
OnInstanceInit:
	instance_set_respawn has_instance(""guild_vs2""), 0,0;
	.@total = getvariableofnpc( .total, ""Test Instance"" );
	set getvariableofnpc( .id[.@total], ""Test Instance"" ), instance_id();
	set getvariableofnpc( .total, ""Test Instance"" ), .@total +1;
	end;
}
```

</details>

### Changes Proposed
Add `*getinstancelist` script command to simplify the above script

### Tested with
<details>

```
prontera,163,185,5	script	Test Instance#2	1_F_MARIA,{
	dispbottom has_instance2(""guild_vs2"") +"""";
	dispbottom has_instance2( .@ins +""INST"" ) +"""";
	dispbottom getmapusers(""guild_vs2"") +"""";
	dispbottom getmapusers( .@ins +""INST"" ) +"""";
}

prontera,160,185,5	script	Test Instance#3	1_F_MARIA,{
	if ( ( .@ins = instance_create( ""Test Instance"", getcharid(CHAR_ID_ACCOUNT), IOT_CHAR ) ) < 0 ) {
		mes ""error : ""+ .@ins;
		close;
	}
	if ( !getstrlen( instance_attachmap( ""guild_vs2"", .@ins, true, .@ins +""INST"" ) ) ) {
		mes ""error : 5"";
		instance_destroy .@ins;
		close;
	}
	instance_set_timeout 3600, 15, .@ins;
	instance_init .@ins;
	end;
}

prontera,158,180,5	script	Test Instance#4	1_F_MARIA,{
	if ( ( .@ins = instance_create( ""Test Instance"", getcharid(CHAR_ID_PARTY), IOT_PARTY ) ) < 0 ) {
		dispbottom ""error : ""+ .@ins;
		end;
	}
	if ( !getstrlen( instance_attachmap( ""guild_vs1"", .@ins, true, .@ins +""TestINS"" ) ) ) {
		dispbottom ""error : 5"";
		instance_destroy .@ins;
		end;
	}
	instance_set_timeout 3600, 15, .@ins;
	instance_init .@ins;
	end;
}

prontera,161,180,5	script	Test Instance#5	1_F_MARIA,{
	if ( ( .@ins = instance_create( ""Test Instance"", getcharid(CHAR_ID_GUILD), IOT_GUILD ) ) < 0 ) {
		dispbottom ""error : ""+ .@ins;
		end;
	}
	if ( !getstrlen( instance_attachmap( ""guild_vs4"", .@ins, true, .@ins +""MultiINS4"" ) ) ) {
		dispbottom ""error : 5"";
		instance_destroy .@ins;
		end;
	}
	if ( !getstrlen( instance_attachmap( ""guild_vs5"", .@ins, true, .@ins +""MultiINS5"" ) ) ) {
		dispbottom ""error : 5"";
		instance_destroy .@ins;
		end;
	}
	instance_set_timeout 3600, 15, .@ins;
	instance_init .@ins;
	end;
}

prontera,160,190,5	script	kaksjdh	1_F_MARIA,{
	getinstancelist ""guild_vs2"";
	getinstancelist ""guild_vs2"", 1;
	getinstancelist ""guild_vs2"", 2;
	getinstancelist ""guild_vs2"", 3;
	for ( .@i = 0; .@i < $@instancelistcount; ++.@i ) {
		dispbottom ""ID -> ""+ $@instancelistid[.@i];
		dispbottom ""map name -> ""+ $@instancelistmap$[.@i]; // return map name
		dispbottom ""Instance owner type -> ""+ $@instancelistiot[.@i]; // return IOT_ ...
		dispbottom ""Instance owner ID -> ""+ $@instancelistowner[.@i];
	}
	dispbottom ""Total -> ""+ $@instancelistcount;

	getinstancelist ""guild_vs1"", 3;
	for ( .@i = 0; .@i < $@instancelistcount; ++.@i )
		dispbottom getpartyname($@instancelistowner[.@i]);
	dispbottom ""Another Total ->""+ $@instancelistcount;

	getinstancelist ""guild_vs5"", 3;
	for ( .@i = 0; .@i < $@instancelistcount; ++.@i )
		dispbottom getguildname($@instancelistowner[.@i]);
	dispbottom ""Multiple Total ->""+ $@instancelistcount;
	end;
}
```

</details>

### Affected Branches
* Master

### Known Issues and TODO List
1. conflict with 1 of my PR -> https://github.com/HerculesWS/Hercules/pull/2080, **Don't merge this until that one get merge 1st**
2. still using global variable `$@var` ... should change into scope `.@var` ?",7551429
101,2018-06-15T10:06:26Z,2018-10-19T08:42:09Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Allows `checkvending()`, `checkchatting()` and `checkidle()` to take an Account ID as the optional param as well as Character Name.

I.e.
```
checkidle(""Player"");
checkidle(getcharid(CHAR_ID_ACCOUNT));
```

**Affected Branches:** 

[//]: # (Master? Slave?)
master

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)
N/A

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)
N/A

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
102,2018-06-15T01:11:56Z,2019-03-05T12:01:23Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### 3 Issues addressed
1. ever wondered when your gm type `@warp morroc` wrong map name, it spam an error
`[Debug] mapindex_name2id: Map ""morroc"" not found in index list!`
yeah no anymore !
this large PR will remove this debug message if execute by GM commands

2. same as above, when using `*getmapusers` script commands,
although the [script_commands.txt mentioned it](https://github.com/HerculesWS/Hercules/blob/52360f0cee7916f58da6eda0399f74199f957c44/doc/script_commands.txt#L3572),
but when players input wrong map name, it still display an error !

3. this is also useful to use `*getmapusers` to check an instanced map is available or not
since we usually emulate the map ...

### Changes Proposed
1. remove the debug message line in mapindex.c
2. add `script_mapname2mapid` function
3. use `return false;` this time, if `return true;` later 4144 gonna comment on my work :P

this changes DOES NOT break any script, source code or plugins
well .... although your plugin might want to update a little bit to display an error message

### Affected Branches
* Master

### Known Issues and TODO List
NONE !! ",7551429
103,2018-06-09T01:00:05Z,2018-06-09T01:11:12Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### 2 Issues addressed
```
prontera,155,185,5	script	sfsdfs	1_F_MARIA,{
//	Issue No.1
	mes """"+ getvariableofpc( BaseLevel, getcharid(3) );

//	Issue No.2
	mes """"+ getvariableofpc( @var, -1 );
	close;
}
```
No. 1 - display an error
```
[Error]: --- nullpo info --------------------------------------------
[Error]: d:\ragnarok\hercules\src\map\pc.c:8330: 'sd' in function `unknown'
[Error]: --- end nullpo info ----------------------------------------
```

No. 2 - this should display player not found error ...

### 2 Changes Proposed
1. now getvariableofpc can retrieve player's parameter (readparam)
2. display an error when player not found and no default value given

### Affected Branches
* Master

### Known Issues and TODO List
I compare this script command with rathena's version ...
```
	if (reference_toparam(data)) {
		ShowError(""buildin_getvar: '%s' is a parameter - please use readparam instead\n"", name);
		script_reportdata(data);
		script_pushnil(st);
		st->state = END;
		return SCRIPT_CMD_FAILURE;
	}
```
I wonder why they refuse to read player's parameter ??
I can understand bStr, bVit ... but Zeny, BaseLevel cannot be read too ? hmm ....",7551429
104,2018-06-05T05:00:53Z,2019-02-20T09:12:55Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Issues addressed
```
prontera,155,185,5	script	jskdhfjshfd	1_F_MARIA,{
	setpcblock PCBLOCK_COMMANDS, true;
	atcommand ""@kick ""+ strcharinfo(0);
	end;
}
```
cause map-server.exe to show warning
```
[Warning] buildin_atcommand: failed to execute command '@kick AnnieRuru'
```

### Changes Proposed
`*atcommand` should bypass the restriction
I also failed to noticed the `player_invoked` variable in the function
> * @param player_invoked true if the command was invoked by a player, false if invoked by the server (bypassing any restrictions)


### Affected Branches
* Master

### Known Issues and TODO List
none, this is minor edit",7551429
105,2018-06-04T21:11:41Z,2018-06-08T07:21:54Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### 2 Issues addressed
1. https://github.com/rathena/rathena/issues/1949
2. https://github.com/rathena/rathena/issues/1278
http://herc.ws/board/topic/15799-killedrid-variable-dont-work-with-script-command-monster/#comment-87230


### 2 Changes Proposed
1st. yes aleos has a point that OnNPCKillEvent shouldn't trigger with monster has event labels
however there are also cases that we want OnNPCKillEvent to trigger both of them together

let's say for example [my mission board script](https://rathena.org/board/topic/109667-mission-board-made-by-annieruru/?do=findComment&comment=344774) or [tr0n's quest board](https://github.com/rathena/rathena/blob/master/npc/custom/quests/questboard.txt)
members keep on complaining that when they setup a board nearby an instanced npc
the board doesn't trigger the kill for them, because those instanced npc already has event label attached

and the reason why I make this configurable so when members change the false into true
they should also change how their script going to work
... just like changing the `check_gotocount` means you don't have to use `*freeloop` as often

2nd. currently monster with event labels doesn't save the `killedrid` variable
suddenly remember this bug, and just add 2 lines in the process

### Tested with
```
prontera,155,185,5	script	ksjdfsdk	1_F_MARIA,{
	monster ""this"", -1,-1, ""OnNPCKillEvent"", PORING, 1;
	monster ""this"", -1,-1, ""Event Label"", PORING, 1, strnpcinfo(0)+""::Onaaa"";
	end;
OnNPCKillEvent:
	dispbottom ""OnNPCKillEvent"";
	end;
Onaaa:
	dispbottom ""Event Label"";
	end;
}
```
### Affected Branches
* Master

### Known Issues and TODO List
none",7551429
106,2018-05-29T21:01:18Z,2020-01-18T08:59:55Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Added checking if target npc exists.
Enable the script to specify which NPC to execute the commands.
_(most of the waitingroom related script commands enable to specify which NPC to execute, except these 2.)_

**Affected Branches:** 
Master

**Deprecated script command :**
`*kickwaitingroomall({""<NPC object name>""})`
### Sample:
```
*waitingroom(""<chatroom name>"", <limit>{, <event label>, <trigger>, <required zeny>, <min lvl>, <max lvl>, ""<NPC Object Name>""})
*warpwaitingpc(""<map name>"", <x>, <y>{, <number of people>{, ""<NPC object name>""}})
*waitingroomkick({""<NPC object name>""{,""<player name>""|<account_id>}})
```

<details>

```
prontera,155,181,5	script	main	4_F_KAFRA1,{
	switch (select(
		""waitingroom"",
		""warpwaitingpc"",
		""waitingroomkick""
	)) {
		case 1:
			.@i = select(""NPC 1"", ""NPC 2"");
			delwaitingroom ""npc_""+.@i;
			waitingroom ""TITLE ""+.@i, 20, """", 0, 0, 1, 99, ""npc_""+.@i;
			npctalk ""created a waitingroom for NPC - npc_""+.@i;
			break;
		case 2:
			.@i = select(""NPC 1"", ""NPC 2"");
			warpwaitingpc ""prontera"", 155, 181, getwaitingroomstate(0, ""npc_""+.@i), ""npc_""+.@i;
			npctalk ""warped ""+$@warpwaitingpcnum+"" player"";
			break;
		case 3:
			.@i = select(""NPC 1"", ""NPC 2"");
			if (select(""All player"", ""enter player name"") == 1) {
				waitingroomkick(""npc_""+.@i);
				npctalk ""kicked all player from npc_""+.@i;
			}
			else {
				input .@name$;
				waitingroomkick(""npc_""+.@i, .@name$);
				npctalk ""kicked '""+.@name$+""' from npc_""+.@i;
			}
			break;
	}
	close;
}

prontera,150,185,5	script	npc_1	4_F_KAFRA1,{
	waitingroomkick();
	end;
	
	OnInit:
		waitingroom ""NPC_1"", 20;
		end;
}

prontera,160,185,5	script	npc_2	4_F_KAFRA1,{
	waitingroomkick();
	end;
	
	OnInit:
		waitingroom ""NPC_2"", 20;
		end;
}
```
</details>

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
107,2018-05-04T14:10:07Z,2018-06-05T02:41:31Z,,,"[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
### Pull Request Prelude
- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.
### Issues addressed
This is part of unit controller script commands -> https://github.com/HerculesWS/Hercules/issues/998
### Changes Proposed
Add **MD_NORANDOM_WALK** monster mode flag

### Affected Branches
* Master

### Tested with
```
prontera,155,185,5	script	jskdhfjshfd	1_F_MARIA,{
	.@a = monster( ""this"", -1,-1, ""monster A"", PORING, 1 );
	.@b = monster( ""this"", -1,-1, ""monster B"", PORING, 1 );
	setunitdata .@a, UDT_MODE, getunitdata(.@a, UDT_MODE) | MD_NORANDOM_WALK;
	end;
}
```
### Known Issues and TODO List
is it true that bg_monster spawn inside battleground map, the monster will follow you around ?
both rathena and hercules has this behavior",7551429
108,2018-01-15T23:21:57Z,2018-04-07T14:03:02Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Changes the behavior when adding skills via `skill()` script command. When sending the packet `0x111` with wedding skills, it tells the client to enable the adoption option when right clicking and with all the other required stuff in order to enable it.
Adds support to adoption via @atcommands and script_commands.
Fixes #1440

**Affected Branches:** 

[//]: # (Master? Slave?)
Master

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)
#1440 

### Credits
rAthena - the whole concept for commands
@Asheraf - By figuring out the relation between the packet `0x0111` and the Adoption Bug.",7551429
109,2017-10-22T08:21:34Z,2017-10-29T18:13:37Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Applied a few changes to fit script with official one and applied standardization to entire script.

**Affected Branches:** `Master`

**Issues addressed:** `None`

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[v]: # (**NOTE** Enable the setting ""[v] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style",7551429
110,2017-10-22T07:48:35Z,2018-01-28T07:53:53Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Applied a few changes to fit script with official one and applied standardization to entire script.

**Affected Branches:** `Master`

**Issues addressed:** `None`

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[v]: # (**NOTE** Enable the setting ""[v] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style",7551429
111,2017-10-21T21:30:51Z,2018-04-08T11:05:35Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Pre-renewal and renewal builds for each configuration are now built as part of the same job.
This should reduce the burden on the gitlab-ci infrastructure, and will become necessary when the changes discussed on https://gitlab.com/gitlab-com/infrastructure/issues/2885 will take place.

**Affected Branches:** 

- master
- stable

**Issues addressed:**

https://gitlab.com/gitlab-com/infrastructure/issues/2885

### Known Issues and TODO List

- [ ] This currently reduces the number of jobs from 49 to 25, which is still larger than the planned maximum limit. Further changes will be necessary.


[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
112,2017-09-29T02:49:04Z,2017-10-21T16:15:16Z,,,"Source: http://ragnarok.wikia.com/wiki/Para_Market
original script by Nyalin

[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- I have followed [proper Hercules code styling][code].
- I have read and understood the [contribution guidelines][cont] before making this PR.
- I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

[//]: # (Master? Slave?)

**Issues addressed:**

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
113,2017-09-23T20:51:47Z,2017-10-21T02:38:21Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
Fix re-equip & misceffect in Set Item Option:
- When setequipotion is successful, item is not re-equipped.
- Wrong value in misceffect, it shows failed refinement.

[//]: # (Describe at length, the changes that this pull request makes.)

**Affected Branches:** 

[//]: # (Master? Slave?)

- [x] Master

**Issues addressed:**

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
114,2017-08-24T17:52:34Z,2017-09-06T17:36:07Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [X] I have followed [proper Hercules code styling][code].
- [X] I have read and understood the [contribution guidelines][cont] before making this PR.
- [X] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

* make `buildin_callshop` use proper Hercules coding style
* make `buildin_callshop` work with any shop type (zeny, cash, market, custom)


[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
115,2017-08-17T00:36:16Z,2018-04-25T16:14:16Z,,,"### Pull Request Prelude

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)

This pull request fixes issue #738, by changing some variable-sized, dynamically allocated, arrays into VECTOR types (through some minor refactoring).

Some quality-of-life improvements to the VECTOR_ macros are also introduced:

- The `VECTOR_ENSURE()` macro now defaults to using a step of 1 (and the old version is renamed to `VECTOR_ENSURE_STEP()` for the cases where a custom step is desirable)
- The `VECTOR_ENSURE()` macro is now called automatically by the various `VECTOR_INSERT*` and `VECTOR_PUSH*` macros that require additional space (but it is still available to be manually called, for pre-allocations).

**Affected Branches:** 

master

**Issues addressed:**

#738

### Known Issues and TODO List

- Untested
- To be checked whether more arrays need a similar treatment

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
116,2017-08-12T16:57:52Z,2017-09-20T02:57:08Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [X] I have followed [proper Hercules code styling][code].
- [X] I have read and understood the [contribution guidelines][cont] before making this PR.
- [X] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

The aim of this PR is to remove hardcoded variables and allow to explicitly specify the variables, or when not possible, reduce the scope to the lowest possible (ie `.@` vars).

<br><br>

### To-Do

- [X] Update buildins that use global hardcoded variables so they allow to specify a variable instead
    - [X] `buildin_getguildmember`
    - [X] `buildin_getmobdrops`
    - [X] `buildin_getwaitingroomstate`
    - [X] `buildin_warpwaitingpc`
    - [X] `buildin_waitingroom2bg`

<br>

- [ ] Update buildins that use PC hardcoded variables so they allow to specify a variable instead
    - **➜** Those buildins are already scoped to the PC and they are PC-related so imho they could stay as-is... Any thoughts?
    - [ ] `buildin_getinventorylist`
        - not sure it would be possible to de-hardcode this as it uses dynamic var names for item options
    - [ ] `buildin_getcartinventorylist`
        - not sure it would be possible to de-hardcode this as it uses dynamic var names for item options
    - [ ] `buildin_getskilllist`
    - [ ] `buildin_countbound`
    - [ ] ~~`buildin_menu`~~ (deprecated so we don't care)

<br>

- [x] Make edge cases (ie the `~=` operator) use the lowest possible scope
    - [x] Add a `use_deprecated_variables` config flag and set to `true` by default when not specified and to `false` in the .conf file. This means new installations will use the low-scope (`.@`) variables by default (because present in the conf file) and old installations will continue to use the high-scope (`$@`) variables for backward-compatibility
    - [x] Also update other components that have hardcoded variables

<br>

- [ ] Update existing scripts
- [ ] Update `script.conf` to add `use_deprecated_variables: false`
- [ ] Do extensive testing to make sure everything works as intended
    - [ ] review every line
    - [ ] DRY it up
- [ ] Update the documentation

<br><br>

# WORK IN PROGRESS: *DO NOT MERGE*

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
117,2017-06-13T06:58:43Z,2019-10-02T07:31:36Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

[//]: # (Describe at length, the changes that this pull request makes.)
Adds configuration for disabling status on zone, i.e if some status is disabled on zone, that status won't be enabled and ended as soon as player warps to the map.
Format:
```
disabled_status: {
	SC_NAME: true/false
}
```
**Affected Branches:** 

[//]: # (Master? Slave?)
* all

**Issues addressed:**
Topic: http://herc.ws/board/topic/4401-map-zone-debuff/

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

[//]: # (Insert checklist here)
[//]: # (Syntax: - [ ] Checkbox)

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

None

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
118,2017-06-04T16:15:51Z,2019-05-30T18:12:28Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

## Design

Implementation of the Hercules Ultimate Storage System
Storages can now be created through a configuration file that describes their attributes.
Example storage configuration:
    
```
{
        Id: (int)                              (required|unique) Unique Identifier
        Name: (string)                         (required) Name of the storage sent to the client.
        Capacity: (int)                        (required) Maximum capacity of the storage.
}
```

Additional storages are handled with dynamic arrays that will save a tonne of memory when created, as opposed to a design in which they were implemented using fixed length arrays. In simple terms, a storage of 600 items would approximately cost the same amount of memory as 600 storages with 1 item each.
They are saved in the same storage database (SQL) as the original separating them by a storage identifier.
An infinite number of storages can be created, there are no limits.
The current design implementation only allow saving/loading of approximately 1600 items per storage due to packet size limits.
    
PS. Make sure you apply SQL upgrades for this patch!

## Access Modes

Storage access modes can be set through the `openstorage` builtin command.

```
	STORAGE_ACCESS_VIEW     // View storage only
	STORAGE_ACCESS_GET      // Allow getting items from storage.
	STORAGE_ACCESS_PUT      // Allow putting items to storage.
	STORAGE_ACCESS_ALL      // Allow all actions.
```

Default storage mode : STORAGE_ACCESS_ALL

## Script Commands

Changed: `openstorage(<storage_id>{, <storage_mode>})`

**Affected Branches:** master

**Issues addressed:** #1762 

### Known Issues and TODO List

- [ ] Allow resending packets with remaining item data that exceeds packet size (in the case where storage capacity is above the limit).
- [ ] Alternatively, Screw sending any storage details to the character server and handle everything on the map server level.
- [x] Test storage modes.
- [ ] Storage names are only sent client side when an item is present in the storage. (part of the `clif_storagelist` clause in `storage_storageopen`
 
[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
119,2017-05-06T16:31:53Z,2017-05-12T13:16:18Z,,,"### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [X] I have followed [proper Hercules code styling][code].
- [X] I have read and understood the [contribution guidelines][cont] before making this PR.
- [X] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed
Currently if you try to do `@set Zeny 500` (or any other param) it would output `Zeny value is now :0` because `@set` does not handle params at all. This PR fixes this.

**Affected Branches:** `master`
**Issues addressed:** *(none)*
**Type:** [bug](https://github.com/HerculesWS/Hercules/labels/type%3Abug)
**Severity:** [1 (trivial)](https://github.com/HerculesWS/Hercules/labels/severity%3A1-trivial)
**Components:** [script engine](https://github.com/HerculesWS/Hercules/labels/component%3Acore%3Ascriptengine)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style
",7551429
120,2017-03-21T08:21:33Z,2017-04-02T22:36:15Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Maps related to a same kind of zone shares same type of mapflags. This pr moves the mapflags seted individually on npc\mapflag folder to set through zone mapflag.

This includes some fixes to maps missing mapflags, such as all maps of 3rd job change quest misses noteleport mapflag allowing to bypass in most cases the test to change, also fixes gvg zone to woe fe castles, and some other minnor fixes.

The main goal for all this changes is to make easier the implementation of new maps an avoid chances of error at setting mapflags.

All the changes are detailed on every commit message. This still can be improved by adding zones ""Special Quest Places"" and ""Interiors"".

**Affected Branches:** `master` 

[//]: # (Master? Slave?)

**Issues addressed:** `Suggestion`

[//]: # (Issue Tracker Number if any.)

### Known Issues and TODO List

- Make non pvp/gvg zones inherit 'Normal' zone, to disable skills disabled on normal maps to non pvp/gvg zones (such as instances).
- Compare mapflags combinations with aegis source.
- Discuss about new possible zones of mapflags (like 'Interiors', 'Special Quest Places' or others needed).

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style

<!-- Reviewable:start -->
---
This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/1645)
<!-- Reviewable:end -->
",7551429
121,2017-02-27T08:05:07Z,2017-03-21T14:19:36Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

Fixes entrance exploits and changes behavior of instances cooldown with these values:
0 - Classic behaviour with exploit entrance (not recommended)
1 - Classic behaviour without exploit entrance (default)
2 - Updated behaviour to disable re-entrance on same instance


**Affected Branches:** `master`

**Issues addressed:**
- #732 Endless Tower CD only applies to party leader
- #1582 Pre-Re instances cooldown check
- #1320 Endless Tower Fix (Pull Request)

### Known Issues and TODO List

- None

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style

<!-- Reviewable:start -->
---
This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/1594)
<!-- Reviewable:end -->
",7551429
122,2017-01-02T07:25:02Z,2020-03-10T11:01:30Z,,,"[//]: # (**********************************)
[//]: # (** Fill in the following fields **)
[//]: # (**********************************)

[//]: # (Note: Lines beginning with syntax such as this one, are comments and will not be visible in your report!)

### Pull Request Prelude

[//]: # (Thank you for working on improving Hercules!)

[//]: # (Please complete these steps and check the following boxes by putting an `x` inside the brackets _before_ filing your Pull Request.)

- [x] I have followed [proper Hercules code styling][code].
- [x] I have read and understood the [contribution guidelines][cont] before making this PR.
- [x] I am aware that this PR will be closed if the above-mentioned criteria are not fulfilled.

### Changes Proposed

This is a conversion from the script provided by _esu1214_ from Hercules' Boards in a collaboration with @Ridley8819 and @AtlantisRO, with the translation from Traditional Chinese language by Steph.

**Affected Branches:** `master`

**Issues addressed:** #240 Episode 14.2 : Eclage (Part of TODO list of updates)

### Known Issues and TODO List

- Requires to update npctalk script command to not show npc name by default (Pull Request #1571).
- Requires implementation of unit controlling script commands (Pull Request #1584).
- Requires skills 716 and 719 for Spectrum Celine and Hidden Mob monsters.

[//]: # (**NOTE** Enable the setting ""[√] Allow edits from maintainers."" when creating your pull request if you have not already enabled it.)

[cont]: https://github.com/HerculesWS/Hercules/blob/master/CONTRIBUTING.md
[code]: https://github.com/HerculesWS/Hercules/wiki/Coding-Style

<!-- Reviewable:start -->
---
This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/1539)
<!-- Reviewable:end -->
",7551429
123,2016-05-26T10:58:39Z,2018-10-18T19:43:38Z,,,"Fix the skill type of RK_DRAGONBREATH and RK_DRAGONBREATH_WATER, they should be BF_WEAPON in official server, and they support bLongAtkRate bonus.

<!-- Reviewable:start -->
---
This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/1304)
<!-- Reviewable:end -->
",7551429
124,2016-03-29T13:52:34Z,2018-03-20T22:13:11Z,,,"- The High Priestess Card from Tarot Card of Fate now removes Chemical Protection (all)
- Gospel now removes Chemical Protection (all) on the caster

Merge of https://github.com/rathena/rathena/commit/894d6f2fe64a401a62ceb57ec48f803e1e7f72be
",7551429
125,2016-03-29T13:52:13Z,2018-03-20T22:13:12Z,,,"- No longer gives 150% increased damage to fire type attacks.(http://forums.irowiki.org/showthread.php?p=1392305#post1392305)
- No longer damages self and allies on normal map types. (kRO Maintenance: 09-12-2012)

rA merge: https://github.com/rathena/rathena/commit/88d2dde63222ef0c480a5341315f7f2ed044f6a5
",7551429
126,2016-03-29T12:58:35Z,2019-10-22T08:32:38Z,,,"- Official implementation of Meteor Storm behavior
  -- It deploys all units directly at castend
  -- Each unit has a different expiration time
  -- On the last interval of a unit the meteor will appear
  -- When the unit expires, it will deal damage
  -- If the unit gets removed at any time, no meteor will appear and no damage will be dealt
- It is now easily possible to configure Meteor Storm behavior via database files, no more extra coding required
- Fixed Meteor Storm sometimes dealing damage even though no meteor appeared
- Fixed Meteor Storm being able to hit through walls when the caster has moved in the meantime

Credits: Playtester (https://github.com/rathena/rathena/commit/1365d9418e96c028cad903fe5cab8edb7c8ae0fc)
",7551429
127,2016-03-04T14:20:31Z,2017-03-12T23:16:24Z,,,"Based on kRO (Baphomet Server)
Fixes #1153

<!-- Reviewable:start -->

---

This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/1182)

<!-- Reviewable:end -->
",7551429
128,2016-03-02T07:24:56Z,2018-03-20T22:13:16Z,,,"Item Updates based on kRO Server.
",7551429
129,2016-02-08T02:10:59Z,2017-08-02T23:04:42Z,,,"…uction cards

Merge rAthena @ 5971745dfd36451ecae766f7e4e9afb8f293ca5a
Credit: Playtester
",7551429
130,2016-01-18T13:36:15Z,2017-06-07T01:15:10Z,,,"#1021

Image: http://imgur.com/hG4gSed
Video: https://youtu.be/DgXpfnQdzNc
",7551429
131,2016-01-13T15:43:24Z,2017-03-03T20:34:49Z,,,"

<!-- Reviewable:start -->
This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/1097)
<!-- Reviewable:end -->
",7551429
132,2016-01-11T11:17:36Z,2020-03-08T14:53:34Z,,,"Tested with 2014-10-22, it works now :)
Needs rebase though, can you do rebase and review @MishimaHaruna

<!-- Reviewable:start -->

---

This change is [<img src=""https://reviewable.io/review_button.svg"" height=""35"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/1092)

<!-- Reviewable:end -->
",7551429
133,2016-01-05T13:51:14Z,2020-01-11T05:54:34Z,,,"Commit No.1

Reference Video:
https://www.youtube.com/watch?v=tnr5W8Eir4Y

Commit No.2

Reference Video:
https://www.youtube.com/watch?v=dsAZcMLrMmY
",7551429
134,2015-12-29T06:59:04Z,2018-08-04T17:06:28Z,,,"Saving amount and ID's in array
",7551429
135,2015-12-26T22:47:34Z,2018-03-20T22:13:32Z,,,,7551429
136,2015-12-14T19:20:42Z,2018-03-20T22:13:34Z,,,"Now this type gonna make the usable item not usable on sit/mount and not
delayed consumer anymore.
to make an item delayed consumer you have to use KeepAfterUse option.

Current Tasks to be done before merge :
- [x] Source Edit
- [x] Check all items in database to make sure all items that should be delayed updated
- [ ] Update Wiki  And inform community

Correct issue #888 
",7551429
137,2015-12-10T15:27:22Z,2018-03-20T22:13:30Z,,,,7551429
138,2015-12-07T00:02:27Z,2017-04-10T10:59:54Z,,,"Fix issue #007750 (from old tracker)

<!-- Reviewable:start -->
---
This change is [<img src=""https://reviewable.io/review_button.svg"" height=""34"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/913)
<!-- Reviewable:end -->
",7551429
139,2015-11-24T18:31:36Z,2018-05-06T20:58:03Z,,,"- [x] change SZ_ constant into MOBSIZE_
- [x] change the rest into UNITSIZE_
- [x] add setcharsize and getcharsize script command (YIPPEE!!)
- [ ] confirm SC_GS_GATLINGFEVER dealing different damage to which size ?
- [ ] estun can deal full damage to small size mobs ?
- [ ] what is the damage formula for NC_ARMSCANNON dealing damage to which size of monster ?

yes I know the 1st patch is bug ... wait till I do the 2nd one
",7551429
140,2015-03-07T03:50:07Z,2018-04-28T23:16:57Z,,,"Hello.

I've been talking with some guys on irc, and I decided on implementing a sane and secure password authentication system.

What is the problem with the current authentication system? The methods of authenticating are all ridiculously easy to break / are already broken.
# The current problems

First, we have the plaintext storage of passwords. I have nothing to comment, I think we should respect our clients enough to not store their passwords on our database.
Second, we have the MD5 storage of passwords. Well, this is pretty easy to break with a rainbow table, so it doesn't offer anything else apart from a fake notion of protection.
Third, we have the passwordencrypt client authentication method, which asks for a salt to the server and sends the password encrypted with MD5 together with the hash. I couldn't make this work on recent clients, and this forces the storage of unencrypted passwords on the database, what I already said is terrible.
# Do I need to change anything to make my server work with it?

My implementation is COMPLETELY backwards compatible. No tutorial will have to be changed, and no conversors will have to be run.

Inf act, my implementation uses all state-of-the-art technologies and works seamlessly: you just update Hercules, the MySQL database, and you're good to go. You don't need to change or execute a single line of anything (except with use_md5_passwords, where you need to set old_md5_passwords to yes and that's it).
# How does it work?

Three new columns were added to the login table: `auth_hash`, `auth_salt`, `auth_iter_count`. These three are responsible for the new authentication using PBKDF2 with HMAC-SHA512 and a salt of 64 bytes generated with a cryptographically strong pseudo-random algorithm.

When a new connection is made, the emulator first looks for the old `user_pass` column. If it is empty, this means that the account already uses the new authentication system, so it just authenticates using PBKDF2.
If `user_pass` is not empty, Hercules first looks if old_md5_passwords is defined (the same as use_md5_passwords, but renamed to avoid confusion) and authenticates using md5 if it is. If not, it authenticates using the plaintext password stored in the DB. After that, a conversion is made from the legacy authentication system (either plaintext or md5) to the new system. Then, the `user_pass` column is cleaned.

I've already tested the system using plaintext and md5, and everything is working fine. I didn't test the code with passwordencrypt (when the client sends the password already hashed with MD5 together with a salt) because I couldn't get a client to use it, does any modern client supports it or is it broken? Even so, the code that makes the authentication is still there, it should work normally.

When designing the code, I've restricted any access to the plaintext password to the maximum. The passwords are not printed or written to the logs anymore, there is no global access to the passwords (they are only accessible as local variables in only a handful of functions).
I've followed these guidelines when designing the system: https://crackstation.net/hashing-security.htm
# New Dependencies

As I believe no one should make their own cryptographic function implementation, there is a new dependency on OpenSSL's libcrypto. All Visual Studio projects have been updated and the makefile has been also updated to require libcrypto. It is a fast and secure library, so I believe this is a good decision.
# Drawbacks

All systems that use authentication will have to rewrite the authentication code to work. I am already working at FluxCP to make it work with the new authentication system.
# Conclusion

This is kind of a big update, but the extra security added is very important and present in any serious project nowadays. This addition will be good for Hercules.

<!-- Reviewable:start -->

---

This change is [<img src=""https://reviewable.io/review_button.svg"" height=""35"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/466)

<!-- Reviewable:end -->
",7551429
141,2014-10-18T23:35:27Z,2017-10-22T13:14:15Z,,,"Marking some legacy script commands as deprecated, for future removal.

**_NOTE: This is a work in progress, please DO NOT merge.**_

Goals of the project:
- Discourage the use in new scripts of certain legacy script commands that would promote bad scripting habits.
- Press users to update their custom scripts to remove said commands.
- Provide user documentation on how to replace those commands from custom scripts.
- Prepare for the complete removal of those script commands.

Non goals:
- Prevent any existing scripts from working.
- Remove any script commands.

Commands slated for removal and suggested alternatives (list will be integrated with other commands)
- [x] `menu` -> `select`, `prompt`
- [ ] `set` -> direct assignment (NOTE: This can't be done at the moment, as there are some edge cases where `set` is still necessary, unfortunately. We may provide a non-deprecated synonym for those edge cases.
- [x] `setr` (internal use only)
- [x] `checkquest` -> `questprogress` (NOTE: This requires a re-commit of 4ac673941714032ada6d26fb60936ec510bbe496)
- [ ] `goto` -> proper use of `if`, `while`, `for`, `switch`. A synonym for edge cases (and for internal use) might be provided.
- [x] `jump_zero` -> proper use of `if`, `while`, `for`, `switch`. A prefixed synonym internal use is provided.
- [x] `setdragon`, `setmadogear`, `setriding` -> `setmount`
- [x] `checkriding`, `checkdragon`, `checkmadogear` -> `checkmount`
- [x] `petheal` -> `petskillsupport`
- [ ] `cardscnt` -> `getequipcardcnt`
- [ ] `basicskillcheck` -> `getbattleflag(""basic_skill_check"")`
- [x] `save` -> `savepoint`
- [x] `cmdothernpc` -> `donpcevent`
- [x] `enablearena`, `disablearena` -> `enablewaitingroomevent`, `disablewaitingroomevent`
- [ ] `setmapflagnosave` -> `setmapflag` (requires source changes to `setmapflag`)
- [x] `petskillattack` -> `petskillattack2` (and rename back to `petskillattack`, eventually). `petskillattack` is the same as `petskillattack2` with the `div` argument set to 0.
- [x] `isday` -> `!isnight()`
- [ ] `checkequipedcard` -> Never used. Loop through `getinventorylist`'s results if necessary.
- [ ] `getusersname` -> Never used. It could be replaced by a new command that returns an array of users (IDs, names), since we now have support for very large arrays.
- [ ] `recovery` -> Never used. It could be replaced by a new command that returns an array of users (IDs, names), and a loop on said array.
- [ ] `globalmes` -> Never used. It could be replaced by a new command that returns an array of users (IDs, names), and a loop on said array.
-    `awake` -> use of NPC timers instead. [keeping it for the time being, see discussion below]
- [x] `checkre` -> We should export a constant instead.
- [ ] `consumeitem` -> `itemeffect` (misleading name, and two synonyms for the same command is one too many)
- [ ] `classchange`

`petheal` can't be replaced by `petskillsupport` - see comment below -- nevermind, it can be replaced after all, it's custom.

<!-- Reviewable:start -->

---

This change is [<img src=""https://reviewable.io/review_button.svg"" height=""35"" align=""absmiddle"" alt=""Reviewable""/>](https://reviewable.io/reviews/herculesws/hercules/374)

<!-- Reviewable:end -->
",7551429
142,2020-03-03T15:29:53Z,2020-03-03T15:29:53Z,,,"Adding `\\` to `[^""]` avoids overlap with `\\.` in the branch. Without this the regex can catastrophically backtrack between the two branches.",1504670
143,2020-02-25T02:39:09Z,2020-02-25T02:39:09Z,,,v1.6.12 contains PR #283 which breaks on legacy python without PEP 476 support,1504670
144,2020-02-14T17:50:02Z,2020-02-14T20:02:18Z,,,"Remove reference to zip, update to 8.0, typo.",1504670
145,2020-02-04T19:37:53Z,2020-02-04T19:43:22Z,,,"Fixes following issue.  See stacktrace.

Traceback (most recent call last):
  File ""/Applications/Splunk/etc/apps/TA-1password/bin/ta_1password/aob_py3/modinput_wrapper/base_modinput.py"", line 128, in stream_events
    self.collect_events(ew)
  File ""/Applications/Splunk/etc/apps/TA-1password/bin/onepassword_event_logs.py"", line 76, in collect_events
    input_module.collect_events(self, ew)
  File ""/Applications/Splunk/etc/apps/TA-1password/bin/input_module_onepassword_event_logs.py"", line 216, in collect_events
    event_stream.stream_events(CACHE_FOLDER, stanza_name)
  File ""/Applications/Splunk/etc/apps/TA-1password/bin/input_module_onepassword_event_logs.py"", line 175, in stream_events
    self._process_event(event, input_name)
  File ""/Applications/Splunk/etc/apps/TA-1password/bin/input_module_onepassword_event_logs.py"", line 150, in _process_event
    SplunkWriter.write_event(splunk_event)
  File ""/Applications/Splunk/etc/apps/TA-1password/bin/onepassword_lib/splunk_writer.py"", line 10, in write_event
    SplunkWriter.writer.write_event(event)
  File ""/Applications/Splunk/etc/apps/TA-1password/bin/ta_1password/aob_py3/solnlib/packages/splunklib/modularinput/event_writer.py"", line 57, in write_event
    event.write_to(self._out)
  File ""/Applications/Splunk/etc/apps/TA-1password/bin/ta_1password/aob_py3/splunklib/modularinput/event.py"", line 107, in write_to
    stream.write(ET.tostring(event))
TypeError: write() argument must be str, not bytes",1504670
146,2020-01-21T17:17:43Z,2020-01-22T20:58:31Z,,,"The external search command should be sending one chunk response for every chunk received, but extra flushing in the case of large chunks was producing multiple responses per request.

This changes partial flush() to be a noop for v2, and is more explicit about matching up read_chunk and write_chunk calls.

Fixes #150 ",1504670
147,2020-01-14T19:45:44Z,2020-01-14T19:45:44Z,,,"In an attempt to have similar design patterns to how custom search commands are created, and also to make the definition of the scheme, member access to configuration values, automatic casting of configuration types, and convenient .spec file generation, I implemented a proof of concept for decorators for the Script class.
It mimics much of how the search command decorators are implemented, with changes where necessary.
The functionality isn't fully complete, and is lacking validation of decorator parameters, but before spending a lot more time polishing and making it complete I wanted to get feedback regarding the willingness of the SDK team to merge such a PR, and also to get early feedback regarding which pieces the team would want implemented differently.

The summary of what this PR accomplishes is shown in this code snippet:

```from __future__ import absolute_import
from splunklib.modularinput import Configuration, Script, Argument
import sys

@Configuration(use_single_instance=True)
class DevSDKScript(Script):
    a_string_argument = Argument(data_type=Argument.data_type_string, description=""A String Argument"")
    a_boolean_argument = Argument(data_type=Argument.data_type_boolean, description=""A Boolean Argument"")
    a_number_argument = Argument(data_type=Argument.data_type_number, description=""A Number Argument"")

    # for inputs that need to perform preliminary actions (preparation) with knowledge of the entire set of inputs
    def preflight(self, input_items, ew):
        for input_name, input_item in input_items:
            ew.log(""INFO"", ""{0} preflight"".format(input_name))

    # process_input is called once per configured input to be more convenient, not requiring the developer
    #  to implement the interation themselves
    # stream_events is still overrideable if the developer prefers the existing method
    def process_input(self, input_name, input_item, ew):
        ew.log(""INFO"", ""{0} stream_event"".format(input_name))
        ew.log(""INFO"", "" a_string_argument: {0}"".format(input_item.a_string_argument))
        ew.log(""INFO"", "" a_boolean_argument: {0}"".format(input_item.a_boolean_argument))
        ew.log(""INFO"", "" a_number_argument: {0}"".format(input_item.a_number_argument))

    # for inputs that need to perform post actions (cleanup) with knowledge of the entire set of inputs
    def postflight(self, input_items, ew):
        for input_name, input_item in input_items:
            ew.log(""INFO"", ""{0} postflight"".format(input_name))

if __name__ == ""__main__"":
    sys.exit(DevSDKScript().run(sys.argv))",1504670
148,2019-12-02T00:10:04Z,2020-01-26T12:34:24Z,,,"Send additional headers with a delete request. Currently only GET, POST and REQUEST allow this.",1504670
149,2019-11-26T13:57:05Z,2019-12-13T17:33:10Z,,,"…on3 #274

Resolved bug #274 for event_writer.py and event.py for modular input ",1504670
150,2019-11-19T22:26:17Z,2020-03-25T17:35:21Z,,,"I have a long running process that connects to Splunk and executes and manages multiple jobs over (potentially) hours. Every now and then I'll get a `Connection reset by peer` error that blows everything up. This should allow me to build my Splunk connection object with a little retry logic built into the sdk.

Traceback I'm getting for reference:
```python
Traceback (most recent call last):
  File ""/opt/myCode/myCode.py"", line 2130, in <module>
    main()
  File ""/opt/myCode/myCode.py"", line 1308, in main
    config_data['fields']['matchFields'])
  File ""/opt/myCode/myCode.py"", line 839, in rebuild_lookups_from_database
    while not all([z.is_done() for z in jobs]):
  File ""/usr/lib/python2.7/site-packages/splunklib/client.py"", line 2703, in is_done
    if not self.is_ready():
  File ""/usr/lib/python2.7/site-packages/splunklib/client.py"", line 2715, in is_ready
    response = self.get()
  File ""/usr/lib/python2.7/site-packages/splunklib/client.py"", line 1009, in get
    return super(Entity, self).get(path_segment, owner=owner, app=app, sharing=sharing, **query)
  File ""/usr/lib/python2.7/site-packages/splunklib/client.py"", line 766, in get
    **query)
  File ""/usr/lib/python2.7/site-packages/splunklib/binding.py"", line 290, in wrapper
    return request_fun(self, *args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/splunklib/binding.py"", line 71, in new_f
    val = f(*args, **kwargs)
  File ""/usr/lib/python2.7/site-packages/splunklib/binding.py"", line 680, in get
    response = self.http.get(path, all_headers, **query)
  File ""/usr/lib/python2.7/site-packages/splunklib/binding.py"", line 1184, in get
    return self.request(url, { 'method': ""GET"", 'headers': headers })
  File ""/usr/lib/python2.7/site-packages/splunklib/binding.py"", line 1242, in request
    response = self.handler(url, message, **kwargs)
  File ""/usr/lib/python2.7/site-packages/splunklib/binding.py"", line 1386, in request
    response = connection.getresponse()
  File ""/usr/lib64/python2.7/httplib.py"", line 1113, in getresponse
    response.begin()
  File ""/usr/lib64/python2.7/httplib.py"", line 444, in begin
    version, status, reason = self._read_status()
  File ""/usr/lib64/python2.7/httplib.py"", line 400, in _read_status
    line = self.fp.readline(_MAXLINE + 1)
  File ""/usr/lib64/python2.7/socket.py"", line 476, in readline
    data = self._sock.recv(self._rbufsize)
  File ""/usr/lib64/python2.7/ssl.py"", line 757, in recv
    return self.read(buflen)
  File ""/usr/lib64/python2.7/ssl.py"", line 651, in read
    v = self._sslobj.read(len or 1024)
error: [Errno 104] Connection reset by peer```",1504670
151,2019-11-12T23:05:14Z,2019-11-12T23:05:14Z,,,,1504670
152,2019-11-05T23:16:29Z,2020-02-05T19:41:13Z,,,POST requests to the /storage/passwords endpoint should not return the clear_password back in plaintext. The POST response should mask the clear_password but the Python SDK tests specifically check for the created or updated password. I removed those assertion checks.,1504670
153,2019-10-10T19:54:50Z,2019-10-11T12:39:41Z,,,"This PR implements CircleCI builds with tox and Splunk 7.2, The current travis builds also implement 7.0 however this version is EOL. A followup enhancement should add 7.1 and 7.3 to the matrix. 

A number of tests are sensitive to timing or make use of client port binding which is not a good practice. Those tests continue to fail with this PR. This is not yet ready to replace travis but can be incremented upon by the community

Project admin will need to enable the circle CI project on the Splunk account",1504670
154,2019-09-18T15:22:36Z,2019-09-19T09:21:36Z,,,Adds logic to fix bug described https://github.com/splunk/splunk-sdk-python/issues/275 where byte strings `b''` do not work for indexing or concatenation in Python 3. This causes `ReportingCommands` to fail if they have a `map()` func. ,1504670
155,2019-09-11T21:48:28Z,2019-09-11T21:50:22Z,,,"Try running this, it doesn't work.  Not only do you need parse, you need to handle the cmd",1504670
156,2019-08-28T17:31:15Z,2019-09-24T00:30:23Z,,,"These are some minor updates for compatibility between Python2 and Python3. 

Example changes:
- import \_\_future__ modules
- it.next() -> next(it)
- list(items) ",1504670
157,2019-07-24T03:02:36Z,2019-09-04T22:43:04Z,,,"This PR resolves #261 related to improper handling of `body` parameters within the `Context.request` method. The method used (`GET` or `POST`) will determine if the body is encoded as part of the url or passed as body into the request.

GET method requests (with and without a body) were tested and worked as expected.",1504670
158,2019-03-11T22:50:34Z,2019-10-30T23:54:34Z,,,This is a fix for supporting multi value unicode fields. ,1504670
159,2019-01-08T18:03:36Z,2019-01-08T18:03:36Z,,,"In looking at Splunk I found lots of events with just `</stream>` as the text. Looking at the code, the event_write class will always output the closing tag even if it doesn't output a start tag or any event. So, I added a check to see if there was a start tag written. If so, put a valid close tag. Otherwise, do not",1504670
160,2019-01-06T07:04:23Z,2019-01-06T08:03:51Z,,,"Could anyone please check if this would be ok for fixing #207 ? 

Uses __ for service.post() on binding.py for arguments like app, owner, sharing needed for example for post requests to the /acl path for changing permissions and also adds an access_update() to client.py so that the client can transparently call an update in permissions without having to use the __ in the start of those arguments. 

At least I believe this approach won't cause a breaking change by changing the method signature as said by @tdhellmann on https://github.com/splunk/splunk-sdk-python/pull/208",1504670
161,2018-06-28T01:40:44Z,2018-10-09T22:42:13Z,,,"Could not specify an app when trying to delete an index because an ""app"" argument could not be passed to the service.indexes.delete method. This allows the user to pass through arguments to Collection.delete.",1504670
162,2018-06-12T18:35:57Z,2018-11-19T15:19:35Z,,,"This is one possible fix I came up with for issue #207. By moving owner, app, and sharing from arguments to kwargs in the post method, they will be included in the request body. This will fix any 400 errors that result from owner, app, or sharing being left out of REST requests that require them to be explicitly defined in the body of the request.",1504670
163,2018-05-30T14:40:26Z,2019-05-08T21:14:08Z,,,encode slashes for kvstore update to ensure proper checking for existing items,1504670
164,2017-06-23T00:03:41Z,2017-06-23T16:02:15Z,,,"This ensures that logs from search commands go to the configured logger/handle in logging.conf. And Eliminates the use of the statically chosen logger in environments.py. This was tested with a reporting command.

This pull request also includes update to external_search_command.py to also do the same as above. No example commands to test this with.",1504670
165,2016-10-28T16:10:05Z,2016-10-28T20:45:10Z,,,"- Fixes the URL for PATH_DEPLOYMENT_SERVERCLASSES
- Exposes deployment_apps, deployment_clients and server_classes in the Service class
- Adding virtualenv related entries to .gitignore
",1504670
166,2016-07-30T12:17:53Z,2016-07-31T10:48:29Z,,,"Please see diff.
",1504670
167,2016-07-27T02:00:35Z,2016-07-27T02:10:20Z,,,"Identical entity names will cause an infinite loop ""RuntimeError: maximum recursion depth exceeded"". Give a clear message about which applications have this entity.
Trying to `self.name` in `Raise AmbiguousReferenceException` will result in a dead loop. 

```
splunklib\client.py"", line 928, in _load_atom_entry
    raise AmbiguousReferenceException(""Fetch from server returned multiple entries for name %s."" % self.name)
  splunklib\client.py"", line 1067, in name
    return self.state.title
  splunklib\client.py"", line 1091, in state
    if self._state is None: self.refresh()
  splunklib\client.py"", line 1011, in refresh
    self._state = self.read(self.get())
  splunklib\client.py"", line 1071, in read
    results = self._load_state(response)
splunklib\client.py"", line 934, in _load_state
    entry = self._load_atom_entry(response)
client.py"", line 928, in _load_atom_entry
    raise AmbiguousReferenceException(""Fetch from server returned multiple entries for name %s."" % self.name)
client.py"", line 1067, in name
    return self.state.title
.
.
.
```

[test.json.zip](https://github.com/splunk/splunk-sdk-python/files/385147/test.json.zip)
",1504670
168,2020-03-18T04:51:29Z,2020-03-18T04:51:29Z,,,"<h3>Snyk has created this PR to fix one or more vulnerable packages in the `yarn` dependencies of this project.</h3>

#### Changes included in this PR

- Changes to the following files to upgrade the vulnerable dependencies to a fixed version:
    - package.json
    - yarn.lock



#### Vulnerabilities that will be fixed
##### With an upgrade:
Severity                   |  Issue                   | Breaking Change                   | Exploit Maturity
:-------------------------:|:-------------------------|:-------------------------|:-------------------------
![medium severity](https://res.cloudinary.com/snyk/image/upload/w_20,h_20/v1561977819/icon/m.png ""medium severity"") | Prototype Pollution <br/>[SNYK-JS-MINIMIST-559764](https://snyk.io/vuln/SNYK-JS-MINIMIST-559764) |  No  | Proof of Concept 










Check the changes in this PR to ensure they won't cause issues with your project.



------------



**Note:** *You are seeing this because you or someone else with access to this repository has authorized Snyk to open fix PRs.*

For more information:

🧐 [View latest project report](https://app.snyk.io/org/jonathan-casarrubias/project/7a0a5ab5-e97d-4c49-8efa-6f6889de3c12)

🛠 [Adjust project settings](https://app.snyk.io/org/jonathan-casarrubias/project/7a0a5ab5-e97d-4c49-8efa-6f6889de3c12/settings)

📚 [Read more about Snyk's upgrade and patch logic](https://snyk.io/docs/fixing-vulnerabilities/)

[//]: # (snyk:metadata:{""dependencies"":[{""name"":""mkdirp"",""from"":""0.5.1"",""to"":""0.5.2""}],""packageManager"":""yarn"",""projectPublicId"":""7a0a5ab5-e97d-4c49-8efa-6f6889de3c12"",""projectUrl"":""https://app.snyk.io/org/jonathan-casarrubias/project/7a0a5ab5-e97d-4c49-8efa-6f6889de3c12?utm_source=github&utm_medium=fix-pr"",""type"":""auto"",""patch"":[],""vulns"":[""SNYK-JS-MINIMIST-559764""],""upgrade"":[""SNYK-JS-MINIMIST-559764""],""isBreakingChange"":false,""env"":""prod"",""prType"":""fix"",""templateVariants"":[""updated-fix-title""]})
",60712558
169,2020-03-17T09:58:31Z,2020-03-17T09:58:31Z,,,fix #653 ,60712558
170,2019-02-21T10:30:15Z,2019-02-21T10:30:15Z,,,"#### What type of pull request are you creating?
- [x] Bug Fix
- [ ] Enhancement
- [ ] Documentation

#### How many unit test did you write for this pull request?

None.

Write a reason if none (e.g just fixed a typo):

Just renamed a module to import.

#### Please add a description for your pull request:

Angular Universal apps now also use the HttpClientModule. This commit replaces the HttpModule with the HttpClientModule.",60712558
171,2019-01-27T10:37:40Z,2019-02-07T20:53:30Z,,,"#### What type of pull request are you creating?
- [* ] Bug Fix
- [ ] Enhancement
- [ ] Documentation

#### How many unit test did you write for this pull request?


Write a reason if none (e.g just fixed a typo):


#### Please add a description for your pull request:
related to this https://github.com/mean-expert-official/loopback-sdk-builder/issues/632",60712558
172,2018-09-29T07:54:27Z,2018-09-29T07:54:27Z,,,"#### What type of issue are you creating?
- [x] Bug
- [ ] Enhancement
- [ ] Question

#### What version of this module are you using?
- [ ] 2.0.10 (Stable)
- [ ] 2.1.0-rc.n (2.1 Release Candidate n)
- [x] Other

Write other if any:

#### Please add a description for your issue:

I passed a wrong baseUrl to config accidently

```
const baseUrl = window.location.host;
LoopBackConfig.setBaseUrl(baseUrl);
```

when I call api, an DOMException error occured, and report the error as title.
The DOMException error message is 
```
DOMException: Failed to execute 'open' on 'XMLHttpRequest': Invalid URL
```

Related code:
[LINK](https://github.com/mean-expert-official/loopback-sdk-builder/blob/d3041e443ed9683a96dbbbb4330e9f8d632f81a3/lib/angular2/shared/services/core/error.ejs#L11)

we should make sure `errorResponse.error` exists, PTAL",60712558
173,2018-09-27T18:38:11Z,2019-04-30T10:26:11Z,,,"#### What type of pull request are you creating?
- [x ] Bug Fix
- [ ] Enhancement
- [ ] Documentation

#### How many unit test did you write for this pull request?
zero. small fix that runs without any problems on my big project.

#### Please add a description for your pull request:
**Issue**
Related models will not be typed (i.e. get the type `any` or `any[]`) if they do not appear in a scope method (like `__get__related_model""). This leads to a lot of missing type information if you have a clean rest api, where you only expose a few remote methods but not the whole bunch of methods exposed by default.

**Solution**
This Pull Request adds the type information about the related model to the model description. 
",60712558
174,2018-09-21T10:11:17Z,2018-09-21T10:11:17Z,,,"#### What type of pull request are you creating?
- [ x] Bug Fix
- [ ] Enhancement
- [ ] Documentation

#### How many unit test did you write for this pull request?

HttpModule -> HttpClientModule

Write a reason if none (e.g just fixed a typo):

Updated HttpModule to HttpClientModule

#### Please add a description for your pull request:

When generating SDKNodeModule using lb-sdk -d ng2universal - the HttpModule is not found as it has been deprecated in favour of HttpClientModule.
",60712558
175,2018-09-13T15:55:22Z,2018-09-13T21:37:45Z,,,"#### What type of pull request are you creating?
- [ ] Bug Fix
- [X ] Enhancement
- [ ] Documentation

#### How many unit test did you write for this pull request?
None

Write a reason if none (e.g just fixed a typo):
Tests already in place should suffice.

#### Please add a description for your pull request:

See associated issue #618",60712558
176,2018-09-13T09:37:18Z,2018-09-13T10:25:32Z,,,"#### What type of pull request are you creating?
- [X] Bug Fix
- [ ] Enhancement
- [ ] Documentation

#### How many unit test did you write for this pull request?
0

Write a reason if none (e.g just fixed a typo):
Just fixed a small default problem (numbers, strings etc defaulted to a object)

#### Please add a description for your pull request:
My pull requests sets defaults for parameters in remote methods which have a default defined. Right now it just generates an object for any type.",60712558
177,2020-03-25T02:42:52Z,2020-03-25T23:15:02Z,,,"Catmull-Rom only needs double up endpoints, not tripled.

This also corrects handling of bezier curves while I'm at - bezier curves don't have any endpoint multiplicity.  If we want something for adding / removing tangents, that should probably be a separate function.

This fixes Carsten's overshoots, and a basic test passes.  The one more thing I should probably do is add tests that converting linear->bSpline->catmull yields the same result as linear->catmull.

If I was going to do a bit more playing with this while I'm at it, the one thing that might be worth checking into is why catmull-rom curves seem to always draw black in Gaffer ( whereas linear curves are white or use Cs ), and why gl:curvesPrimitive:ignoreBasis appears to default on?",10654465
178,2020-02-01T11:37:53Z,2020-02-10T12:53:20Z,,,"Add functions in USDScene.cpp so that SceneReader node will be able to read usdGeomCamera correctly and convert it to IECoreScene::camera into Gaffer.

### Checklist ###

- [x] I have read the [contribution guidelines](https://github.com/ImageEngine/cortex/blob/master/CONTRIBUTING.md).
- [x] I have tested my change(s) in the test suite, and added new test cases where necessary.
- [x] My code follows the Cortex project's prevailing coding style and conventions.
",10654465
179,2019-06-05T00:23:04Z,2019-06-10T17:45:39Z,,,"Following up on #810, I've added an environment variable to enable/disable `RTLD_GLOBAL` while importing the IECore python module and loading the IECoreMaya/IECoreHoudini c++ plugins.

Note I'm putting this up as a draft, in case anyone else wants to test it. Its not currently working at IE, the tests fail immediately as mentioned in #810, and interactive use is similar (though a slightly different error in each app).",10654465
180,2019-01-10T00:07:17Z,2019-02-15T15:31:33Z,,,Second attempt to copy a few attributes  so they're available in GL rendering.,10654465
181,2018-01-02T20:57:42Z,2018-01-14T13:14:10Z,,,"altspace uses the THREE global so does not integrate with THREE.js as i hoped it would but it is still usable from typescript. 
the bundler adds the altspace and three.js libs to the compiled output. 
Much more to add to the definitions file.",33642201
182,2017-05-28T23:43:51Z,2017-12-01T01:21:00Z,,,"* Added eventListener property to HoverScale behavior to allow other objects to trigger cursor events on behalf of the object that owns the behavior.
* Improved animation accuracy when HoverScale cursor hover state is changed mid-animation.",33642201
183,2017-05-02T04:03:17Z,2017-12-01T01:21:00Z,,,* Added profile and initialSerializationBufferSize options to altspace.utilities.Simulation.,33642201
184,2016-12-15T10:52:19Z,2018-03-10T01:51:56Z,,,"Updated Object3DSync behavior to support linear interpolation for position and scale updates, and spherical linear interpolation for rotation updates, which aids in smoothing out jerky object synchronization.

Interpolation is currently enabled by default, and can be explicitly enabled or disabled on creation of the behavior with config parameters.  For example:
`obj.addBehavior(Object3DSync({ position: true, rotation: true, scale: true, lerp: { position: true, rotation: true, scale: false, duration: 150 } }));`",33642201
185,2020-03-09T14:42:03Z,2020-03-23T12:14:40Z,,,,13869700
